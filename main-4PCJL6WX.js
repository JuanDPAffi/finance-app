var ax=Object.defineProperty,cx=Object.defineProperties;var ux=Object.getOwnPropertyDescriptors;var fD=Object.getOwnPropertySymbols;var lx=Object.prototype.hasOwnProperty,dx=Object.prototype.propertyIsEnumerable;var pD=(t,e,n)=>e in t?ax(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})lx.call(e,n)&&pD(t,n,e[n]);if(fD)for(var n of fD(e))dx.call(e,n)&&pD(t,n,e[n]);return t},ee=(t,e)=>cx(t,ux(e));var ft=null,Yu=!1,Fp=1,hx=null,It=Symbol("SIGNAL");function z(t){let e=ft;return ft=t,e}function Ju(){return ft}var Aa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ra(t){if(Yu)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(t);let e=ft.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ft.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ft.producers,n!==void 0&&n.producer===t)){ft.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===ft&&(!r||px(i,ft)))return;let o=Oo(ft),s={producer:t,consumer:ft,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};ft.producersTail=s,e!==void 0?e.nextProducer=s:ft.producers=s,o&&vD(t,s)}function gD(){Fp++}function Lp(t){if(!(Oo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Fp)){if(!t.producerMustRecompute(t)&&!el(t)){Op(t);return}t.producerRecomputeValue(t),Op(t)}}function Vp(t){if(t.consumers===void 0)return;let e=Yu;Yu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||fx(r)}}finally{Yu=e}}function jp(){return ft?.consumerAllowSignalWrites!==!1}function fx(t){t.dirty=!0,Vp(t),t.consumerMarkedDirty?.(t)}function Op(t){t.dirty=!1,t.lastCleanEpoch=Fp}function Na(t){return t&&mD(t),z(t)}function mD(t){t.producersTail=void 0,t.recomputing=!0}function Xu(t,e){z(e),t&&yD(t)}function yD(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Oo(t))do n=Up(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function el(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Lp(n),r!==n.version))return!0}return!1}function Ma(t){if(Oo(t)){let e=t.producers;for(;e!==void 0;)e=Up(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function vD(t,e){let n=t.consumersTail,r=Oo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)vD(i.producer,i)}function Up(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Oo(e)){let o=e.producers;for(;o!==void 0;)o=Up(o)}return n}function Oo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Bp(t){hx?.(t)}function px(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function $p(t,e){return Object.is(t,e)}function tl(t,e){let n=Object.create(gx);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Lp(n),Ra(n),n.value===Zu)throw n.error;return n.value};return r[It]=n,Bp(n),r}var xp=Symbol("UNSET"),kp=Symbol("COMPUTING"),Zu=Symbol("ERRORED"),gx=ee(O({},Aa),{value:xp,dirty:!0,error:null,equal:$p,kind:"computed",producerMustRecompute(t){return t.value===xp||t.value===kp},producerRecomputeValue(t){if(t.value===kp)throw new Error("");let e=t.value;t.value=kp;let n=Na(t),r,i=!1;try{r=t.computation(),z(null),i=e!==xp&&e!==Zu&&r!==Zu&&t.equal(e,r)}catch(o){r=Zu,t.error=o}finally{Xu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function mx(){throw new Error}var _D=mx;function ED(t){_D(t)}function Hp(t){_D=t}var yx=null;function qp(t,e){let n=Object.create(nl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>ID(n);return r[It]=n,Bp(n),[r,s=>Pa(n,s),s=>wD(n,s)]}function ID(t){return Ra(t),t.value}function Pa(t,e){jp()||ED(t),t.equal(t.value,e)||(t.value=e,vx(t))}function wD(t,e){jp()||ED(t),Pa(t,e(t.value))}var nl=ee(O({},Aa),{equal:$p,value:void 0,kind:"signal"});function vx(t){t.version++,gD(),Vp(t),yx?.(t)}function zp(t){let e=z(null);try{return t()}finally{z(e)}}function Y(t){return typeof t=="function"}function Fo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rl=Fo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function pi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var We=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof rl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{DD(o)}catch(s){e=e??[],s instanceof rl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&pi(n,e)}remove(e){let{_finalizers:n}=this;n&&pi(n,e),e instanceof t&&e._removeParent(this)}};We.EMPTY=(()=>{let t=new We;return t.closed=!0,t})();var Gp=We.EMPTY;function il(t){return t instanceof We||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function DD(t){Y(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(t,e,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ol(t){Lo.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(t);else throw t})}function xa(){}var TD=Wp("C",void 0,void 0);function CD(t){return Wp("E",void 0,t)}function bD(t){return Wp("N",t,void 0)}function Wp(t,e,n){return{kind:t,value:e,error:n}}var gi=null;function Vo(t){if(en.useDeprecatedSynchronousErrorHandling){let e=!gi;if(e&&(gi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gi;if(gi=null,n)throw r}}else t()}function SD(t){en.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=t)}var mi=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,il(e)&&e.add(this)):this.destination=Ix}static create(e,n,r){return new jo(e,n,r)}next(e){this.isStopped?Qp(bD(e),this):this._next(e)}error(e){this.isStopped?Qp(CD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(TD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_x=Function.prototype.bind;function Kp(t,e){return _x.call(t,e)}var Yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sl(r)}else sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sl(n)}}},jo=class extends mi{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,o),error:e.error&&Kp(e.error,o),complete:e.complete&&Kp(e.complete,o)}):i=e}this.destination=new Yp(i)}};function sl(t){en.useDeprecatedSynchronousErrorHandling?SD(t):ol(t)}function Ex(t){throw t}function Qp(t,e){let{onStoppedNotification:n}=en;n&&Lo.setTimeout(()=>n(t,e))}var Ix={closed:!0,next:xa,error:Ex,complete:xa};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(t){return t}function al(...t){return Zp(t)}function Zp(t){return t.length===0?tn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Dx(n)?n:new jo(n,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=AD(r),new r((i,o)=>{let s=new jo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Uo](){return this}pipe(...n){return Zp(n)(this)}toPromise(n){return n=AD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function AD(t){var e;return(e=t??en.Promise)!==null&&e!==void 0?e:Promise}function wx(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function Dx(t){return t&&t instanceof mi||wx(t)&&il(t)}function Tx(t){return Y(t?.lift)}function fe(t){return e=>{if(Tx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Jp(t,e,n,r,i)}var Jp=class extends mi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var RD=Fo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RD}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gp:(this.currentObservers=null,o.push(n),new We(()=>{this.currentObservers=null,pi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new cl(e,n),t})(),cl=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Gp}};var it=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xp={now(){return(Xp.delegate||Date).now()},delegate:void 0};var ul=class extends We{constructor(e,n){super()}schedule(e,n=0){return this}};var ka={setInterval(t,e,...n){let{delegate:r}=ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bo=class extends ul{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,pi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$o.now=Xp.now;var Ho=class extends $o{constructor(e,n=$o.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var eg=new Ho(Bo);var ll=class extends Bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var dl=class extends Ho{};var tg=new dl(ll);var bt=new X(t=>t.complete());function ND(t){return t&&Y(t.schedule)}function MD(t){return t[t.length-1]}function hl(t){return Y(MD(t))?t.pop():void 0}function Tr(t){return ND(MD(t))?t.pop():void 0}function fl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function PD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(t){return this instanceof yi?(this.v=t,this):new yi(t)}function kD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(R){return new Promise(function(A,x){o.push([y,R,A,x])>1||u(y,R)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof yi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function OD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PD=="function"?PD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pl=t=>t&&typeof t.length=="number"&&typeof t!="function";function gl(t){return Y(t?.then)}function ml(t){return Y(t[Uo])}function yl(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function vl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _l=Cx();function El(t){return Y(t?.[_l])}function Il(t){return kD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield yi(n.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{n.releaseLock()}})}function wl(t){return Y(t?.getReader)}function Le(t){if(t instanceof X)return t;if(t!=null){if(ml(t))return bx(t);if(pl(t))return Sx(t);if(gl(t))return Ax(t);if(yl(t))return FD(t);if(El(t))return Rx(t);if(wl(t))return Nx(t)}throw vl(t)}function bx(t){return new X(e=>{let n=t[Uo]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Sx(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ax(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ol)})}function Rx(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function FD(t){return new X(e=>{Mx(t,e).catch(n=>e.error(n))})}function Nx(t){return FD(Il(t))}function Mx(t,e){var n,r,i,o;return xD(this,void 0,void 0,function*(){try{for(n=OD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Cr(t,e=0){return fe((n,r)=>{n.subscribe(pe(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function br(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LD(t,e){return Le(t).pipe(br(e),Cr(e))}function VD(t,e){return Le(t).pipe(br(e),Cr(e))}function jD(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function UD(t,e){return new X(n=>{let r;return St(n,e,()=>{r=t[_l](),St(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BD(t,e){return Dl(Il(t),e)}function $D(t,e){if(t!=null){if(ml(t))return LD(t,e);if(pl(t))return jD(t,e);if(gl(t))return VD(t,e);if(yl(t))return Dl(t,e);if(El(t))return UD(t,e);if(wl(t))return BD(t,e)}throw vl(t)}function Re(t,e){return e?$D(t,e):Le(t)}function oe(...t){let e=Tr(t);return Re(t,e)}function ng(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function Tl(t){return!!t&&(t instanceof X||Y(t.lift)&&Y(t.subscribe))}var vi=Fo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(t,e){return fe((n,r)=>{let i=0;n.subscribe(pe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Px}=Array;function xx(t,e){return Px(e)?t(...e):t(e)}function Cl(t){return Ee(e=>xx(t,e))}var{isArray:kx}=Array,{getPrototypeOf:Ox,prototype:Fx,keys:Lx}=Object;function bl(t){if(t.length===1){let e=t[0];if(kx(e))return{args:e,keys:null};if(Vx(e)){let n=Lx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Vx(t){return t&&typeof t=="object"&&Ox(t)===Fx}function Sl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rg(...t){let e=Tr(t),n=hl(t),{args:r,keys:i}=bl(t);if(r.length===0)return Re([],e);let o=new X(jx(r,e,i?s=>Sl(i,s):tn));return n?o.pipe(Cl(n)):o}function jx(t,e,n=tn){return r=>{HD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)HD(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HD(t,e,n){t?St(n,t,e):e()}function qD(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?T(R):u.push(R),T=R=>{o&&e.next(R),l++;let A=!1;Le(n(R,h++)).subscribe(pe(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let x=u.shift();s?St(e,s,()=>T(x)):T(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function wt(t,e,n=1/0){return Y(e)?wt((r,i)=>Ee((o,s)=>e(r,o,i,s))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>qD(r,i,t,n)))}function zD(t=1/0){return wt(tn,t)}function GD(){return zD(1)}function qo(...t){return GD()(Re(t,Tr(t)))}function Oa(t){return new X(e=>{Le(t()).subscribe(e)})}function ig(...t){let e=hl(t),{args:n,keys:r}=bl(t),i=new X(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(n[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Sl(r,a):a),o.complete())}))}});return e?i.pipe(Cl(e)):i}function nn(t,e){return fe((n,r)=>{let i=0;n.subscribe(pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fa(t){return fe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pe(n,void 0,void 0,s=>{o=Le(t(s,Fa(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Al(t,e){return Y(e)?wt(t,e,1):wt(t,1)}function og(t){return fe((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Kn(t){return t<=0?()=>bt:fe((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function WD(t=Ux){return fe((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Ux(){return new vi}function sg(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):tn,Kn(1),n?og(e):WD(()=>new vi))}function Rl(t){return t<=0?()=>bt:fe((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Nl(...t){let e=Tr(t);return fe((n,r)=>{(e?qo(t,n,e):qo(t,n)).subscribe(r)})}function _n(t,e){return fe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function La(t){return fe((e,n)=>{Le(t).subscribe(pe(n,()=>n.complete(),xa)),!n.closed&&e.subscribe(n)})}function Dt(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}var ag;function Ml(){return ag}function En(t){let e=ag;return ag=t,e}var KD=Symbol("NotFound");function zo(t){return t===KD||t?.name==="\u0275NotFound"}var Ei=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Dg=new Ei("21.0.6");var Fl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(Wo(e,n)),this.code=e}};function Hx(t){return`NG0${Math.abs(t)}`}function Wo(t,e){return`${Hx(t)}${e?": "+e:""}`}var Ti=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("")}function XD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Zn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Zn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Tg(t,e){return t?e?`${t} ${e}`:t:e||""}var qx=ge({__forward_ref__:ge});function qt(t){return t.__forward_ref__=qt,t.toString=function(){return Zn(this())},t}function ot(t){return Cg(t)?t():t}function Cg(t){return typeof t=="function"&&t.hasOwnProperty(qx)&&t.__forward_ref__===qt}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ha(t){return zx(t,Ll)}function bg(t){return Ha(t)!==null}function zx(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Gx(t){let e=t?.[Ll]??null;return e||null}function ug(t){return t&&t.hasOwnProperty(xl)?t[xl]:null}var Ll=ge({\u0275prov:ge}),xl=ge({\u0275inj:ge}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sg(t){return t&&!!t.\u0275providers}var Ag=ge({\u0275cmp:ge}),Rg=ge({\u0275dir:ge}),Ng=ge({\u0275pipe:ge}),Mg=ge({\u0275mod:ge}),ja=ge({\u0275fac:ge}),Ci=ge({__NG_ELEMENT_ID__:ge}),QD=ge({__NG_ENV_ID__:ge});function Pg(t){return Vl(t,"@NgModule"),t[Mg]||null}function Nr(t){return Vl(t,"@Component"),t[Ag]||null}function xg(t){return Vl(t,"@Directive"),t[Rg]||null}function eT(t){return Vl(t,"@Pipe"),t[Ng]||null}function Vl(t,e){if(t==null)throw new V(-919,!1)}function qa(t){return typeof t=="string"?t:t==null?"":String(t)}function tT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qa(t)}var nT=ge({ngErrorCode:ge}),Wx=ge({ngErrorMessage:ge}),Kx=ge({ngTokenPath:ge});function kg(t,e){return rT("",-200,e)}function jl(t,e){throw new V(-201,!1)}function rT(t,e,n){let r=new V(e,t);return r[nT]=e,r[Wx]=t,n&&(r[Kx]=n),r}function Qx(t){return t[nT]}var lg;function iT(){return lg}function Tt(t){let e=lg;return lg=t,e}function Og(t,e,n){let r=Ha(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;jl(t,"")}var Yx={},_i=Yx,dg="__NG_DI_FLAG__",hg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ii(n)||0;try{return this.injector.get(e,r&8?null:_i,r)}catch(i){if(zo(i))return i;throw i}}};function Zx(t,e=0){let n=Ml();if(n===void 0)throw new V(-203,!1);if(n===null)return Og(t,void 0,e);{let r=Jx(e),i=n.retrieve(t,r);if(zo(i)){if(r.optional)return null;throw i}return i}}function te(t,e=0){return(iT()||Zx)(ot(t),e)}function M(t,e){return te(t,Ii(e))}function Ii(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jx(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function fg(t){let e=[];for(let n=0;n<t.length;n++){let r=ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Xx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(te(i,o))}else e.push(te(r))}return e}function oT(t,e){return t[dg]=e,t.prototype[dg]=e,t}function Xx(t){return t[dg]}function Sr(t,e){let n=t.hasOwnProperty(ja);return n?t[ja]:null}function Ul(t,e){t.forEach(n=>Array.isArray(n)?Ul(n,e):e(n))}function Fg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function za(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function aT(t,e,n){let r=Ko(t,e);return r>=0?t[r|1]=n:(r=~r,sT(t,r,e,n)),r}function Bl(t,e){let n=Ko(t,e);if(n>=0)return t[n|1]}function Ko(t,e){return ek(t,e,1)}function ek(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Mr={},Pt=[],bi=new j(""),Lg=new j("",-1),Vg=new j(""),Ua=class{get(e,n=_i){if(n===_i){let i=rT("",-201);throw i.name="\u0275NotFound",i}return n}};function xt(t){return{\u0275providers:t}}function cT(t){return xt([{provide:bi,multi:!0,useValue:t}])}function uT(...t){return{\u0275providers:jg(!0,t),\u0275fromNgModule:!0}}function jg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ul(e,s=>{let a=s;kl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lT(i,o),n}function lT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ug(i,o=>{e(o,r)})}}function kl(t,e,n,r){if(t=ot(t),!t)return!1;let i=null,o=ug(t),s=!o&&Nr(t);if(!o&&!s){let u=t.ngModule;if(o=ug(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ul(o.imports,h=>{kl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&lT(l,e)}if(!a){let l=Sr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pt},i),e({provide:Vg,useValue:i,multi:!0},i),e({provide:bi,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ug(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ug(t,e){for(let n of t)Sg(n)&&(n=n.\u0275providers),Array.isArray(n)?Ug(n,e):e(n)}var tk=ge({provide:String,useValue:ge});function dT(t){return t!==null&&typeof t=="object"&&tk in t}function nk(t){return!!(t&&t.useExisting)}function rk(t){return!!(t&&t.useFactory)}function wi(t){return typeof t=="function"}function hT(t){return!!t.useClass}var Ga=new j(""),Pl={},YD={},cg;function Wa(){return cg===void 0&&(cg=new Ua),cg}var Ke=class{},Di=class extends Ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,gg(e,s=>this.processProvider(s)),this.records.set(Lg,Go(void 0,this)),i.has("environment")&&this.records.set(Ke,Go(void 0,this));let o=this.records.get(Ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vg,Pt,{self:!0}))}retrieve(e,n){let r=Ii(n)||0;try{return this.get(e,_i,r)}catch(i){if(zo(i))return i;throw i}}destroy(){Va(this),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return Va(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Va(this);let n=En(this),r=Tt(void 0),i;try{return e()}finally{En(n),Tt(r)}}get(e,n=_i,r){if(Va(this),e.hasOwnProperty(QD))return e[QD](this);let i=Ii(r),o,s=En(this),a=Tt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=ck(e)&&Ha(e);h&&this.injectableDefInScope(h)?l=Go(pg(e),Pl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Wa():this.parent;return n=i&8&&n===_i?null:n,u.get(e,n)}catch(u){let l=Qx(u);throw l===-200||l===-201?new V(l,null):u}finally{Tt(a),En(s)}}resolveInjectorInitializers(){let e=z(null),n=En(this),r=Tt(void 0),i;try{let o=this.get(bi,Pt,{self:!0});for(let s of o)s()}finally{En(n),Tt(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Zn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ot(e);let n=wi(e)?e:ot(e&&e.provide),r=ok(e);if(!wi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Go(void 0,Pl,!0),i.factory=()=>fg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=z(null);try{if(n.value===YD)throw kg(Zn(e));return n.value===Pl&&(n.value=YD,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ak(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pg(t){let e=Ha(t),n=e!==null?e.factory:Sr(t);if(n!==null)return n;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return ik(t);throw new V(204,!1)}function ik(t){if(t.length>0)throw new V(204,!1);let n=Gx(t);return n!==null?()=>n.factory(t):()=>new t}function ok(t){if(dT(t))return Go(void 0,t.useValue);{let e=Bg(t);return Go(e,Pl)}}function Bg(t,e,n){let r;if(wi(t)){let i=ot(t);return Sr(i)||pg(i)}else if(dT(t))r=()=>ot(t.useValue);else if(rk(t))r=()=>t.useFactory(...fg(t.deps||[]));else if(nk(t))r=(i,o)=>te(ot(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ot(t&&(t.useClass||t.provide));if(sk(t))r=()=>new i(...fg(t.deps));else return Sr(i)||pg(i)}return r}function Va(t){if(t.destroyed)throw new V(205,!1)}function Go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sk(t){return!!t.deps}function ak(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ck(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function gg(t,e){for(let n of t)Array.isArray(n)?gg(n,e):n&&Sg(n)?gg(n.\u0275providers,e):e(n)}function Qe(t,e){let n;t instanceof Di?(Va(t),n=t):n=new hg(t);let r,i=En(n),o=Tt(void 0);try{return e()}finally{En(i),Tt(o)}}function fT(){return iT()!==void 0||Ml()!=null}var rn=0,G=1,K=2,Xe=3,zt=4,Gt=5,Qo=6,Yo=7,ke=8,Xn=9,wn=10,be=11,Zo=12,$g=13,Si=14,kt=15,Ai=16,Ri=17,Ni=18,Ka=19,Hg=20,Yn=21,$l=22,Qa=23,Ot=24,Mi=25,Pi=26,Ue=27,pT=1,qg=6,Pr=7,Ya=8,Za=9,Oe=10;function Dn(t){return Array.isArray(t)&&typeof t[pT]=="object"}function on(t){return Array.isArray(t)&&t[pT]===!0}function zg(t){return(t.flags&4)!==0}function xr(t){return t.componentOffset>-1}function Hl(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function Jo(t){return(t[K]&512)!==0}function xi(t){return(t[K]&256)===256}var gT="svg",mT="math";function Wt(t){for(;Array.isArray(t);)t=t[rn];return t}function Gg(t,e){return Wt(e[t])}function sn(t,e){return Wt(e[t.index])}function Ja(t,e){return t.data[e]}function Wg(t,e){return t[e]}function Kg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Kt(t,e){let n=e[t];return Dn(n)?n:n[rn]}function ql(t){return(t[K]&128)===128}function yT(t){return on(t[Xe])}function Cn(t,e){return e==null?null:t[e]}function Qg(t){t[Ri]=0}function Yg(t){t[K]&1024||(t[K]|=1024,ql(t)&&Xo(t))}function vT(t,e){for(;t>0;)e=e[Si],t--;return e}function Xa(t){return!!(t[K]&9216||t[Ot]?.dirty)}function zl(t){t[wn].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Xa(t)&&Xo(t)}function Xo(t){t[wn].changeDetectionScheduler?.notify(0);let e=Ar(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!ql(e)));)e=Ar(e)}function Zg(t,e){if(xi(t))throw new V(911,!1);t[Yn]===null&&(t[Yn]=[]),t[Yn].push(e)}function _T(t,e){if(t[Yn]===null)return;let n=t[Yn].indexOf(e);n!==-1&&t[Yn].splice(n,1)}function Ar(t){let e=t[Xe];return on(e)?e[Xe]:e}function ET(t){return t[Yo]??=[]}function IT(t){return t.cleanup??=[]}var re={lFrame:OT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mg=!1;function wT(){return re.lFrame.elementDepthCount}function DT(){re.lFrame.elementDepthCount++}function Jg(){re.lFrame.elementDepthCount--}function TT(){return re.bindingsEnabled}function CT(){return re.skipHydrationRootTNode!==null}function Xg(t){return re.skipHydrationRootTNode===t}function em(){re.skipHydrationRootTNode=null}function ae(){return re.lFrame.lView}function pt(){return re.lFrame.tView}function ec(t){return re.lFrame.contextLView=t,t[ke]}function tc(t){return re.lFrame.contextLView=null,t}function At(){let t=tm();for(;t!==null&&t.type===64;)t=t.parent;return t}function tm(){return re.lFrame.currentTNode}function bT(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function es(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function nm(){return re.lFrame.isParent}function ST(){re.lFrame.isParent=!1}function rm(){return mg}function im(t){let e=mg;return mg=t,e}function om(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AT(t){return re.lFrame.bindingIndex=t}function ki(){return re.lFrame.bindingIndex++}function RT(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function NT(){return re.lFrame.inI18n}function MT(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gl(e)}function PT(){return re.lFrame.currentDirectiveIndex}function Gl(t){re.lFrame.currentDirectiveIndex=t}function xT(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sm(t){re.lFrame.currentQueryIndex=t}function uk(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function am(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=uk(o),i===null||(o=o[Si],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=re.lFrame=kT();return r.currentTNode=e,r.lView=t,!0}function Wl(t){let e=kT(),n=t[G];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kT(){let t=re.lFrame,e=t===null?null:t.child;return e===null?OT(t):e}function OT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function FT(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cm=FT;function Kl(){let t=FT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function LT(t){return(re.lFrame.contextLView=vT(t,re.lFrame.contextLView))[ke]}function kr(){return re.lFrame.selectedIndex}function Or(t){re.lFrame.selectedIndex=t}function Ql(){let t=re.lFrame;return Ja(t.tView,t.selectedIndex)}function VT(){return re.lFrame.currentNamespace}var jT=!0;function Yl(){return jT}function Zl(t){jT=t}function yg(t,e=null,n=null,r){let i=um(t,e,n,r);return i.resolveInjectorInitializers(),i}function um(t,e=null,n=null,r,i=new Set){let o=[n||Pt,uT(t)];return r=r||(typeof t=="object"?void 0:Zn(t)),new Di(o,e||Wa(),r||null,i)}var je=class t{static THROW_IF_NOT_FOUND=_i;static NULL=new Ua;static create(e,n){if(Array.isArray(e))return yg({name:""},n,e,"");{let r=e.name??"";return yg({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>te(Lg)});static __NG_ELEMENT_ID__=-1},Ye=new j(""),an=(()=>{class t{static __NG_ELEMENT_ID__=lk;static __NG_ENV_ID__=n=>n}return t})(),vg=class extends an{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xi(this._lView)}onDestroy(e){let n=this._lView;return Zg(n,e),()=>_T(n,e)}};function lk(){return new vg(ae())}var UT=!1,er=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new X(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),_g=class extends Je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,fT()&&(this.destroyRef=M(an,{optional:!0})??void 0,this.pendingTasks=M(er,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ve=_g;function Ol(...t){}function lm(t){let e,n;function r(){t=Ol;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function dm(t){return queueMicrotask(()=>t()),()=>{t=Ol}}var hm="isAngularZone",Ba=hm+"_ID",dk=0,De=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ve(!1);onMicrotaskEmpty=new Ve(!1);onStable=new Ve(!1);onError=new Ve(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=UT}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,pk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hk,Ol,Ol);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hk={};function fm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){lm(()=>{t.callbackScheduled=!1,Eg(t),t.isCheckStableRunning=!0,fm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Eg(t)}function pk(t){let e=()=>{fk(t)},n=dk++;t._inner=t._inner.fork({name:"angular",properties:{[hm]:!0,[Ba]:n,[Ba+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(gk(u))return r.invokeTask(o,s,a,u);try{return ZD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),JD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return ZD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!mk(u)&&e(),JD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Eg(t),fm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Eg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JD(t){t._nesting--,fm(t)}var $a=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ve;onMicrotaskEmpty=new Ve;onStable=new Ve;onError=new Ve;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function gk(t){return BT(t,"__ignore_ng_zone__")}function mk(t){return BT(t,"__scheduler_tick__")}function BT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var In=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ft=new j("",{factory:()=>{let t=M(De),e=M(Ke),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(In),n.handleError(r))})}}}),$T={provide:bi,useValue:()=>{let t=M(In,{optional:!0})},multi:!0},yk=new j("",{factory:()=>{let t=M(Ye).defaultView;if(!t)return;let e=M(Ft),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(an).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function pm(){return xt([cT(()=>void M(yk))])}function Qt(t,e){let[n,r,i]=qp(t,e?.equal),o=n,s=o[It];return o.set=r,o.update=i,o.asReadonly=HT.bind(o),o}function HT(){let t=this[It];if(t.readonlyFn===void 0){let e=()=>this();e[It]=t,t.readonlyFn=e}return t.readonlyFn}var Jl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=vk}return t})();function vk(){return new Jl(ae(),At())}var Rr=class{},nc=new j("",{factory:()=>!0});var gm=new j(""),ts=(()=>{class t{internalPendingTasks=M(er);scheduler=M(Rr);errorHandler=M(Ft);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),mm=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Ig})}return t})(),Ig=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},wg=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function Fe(t){return zp(t)}function cs(t){return{toString:t}.toString()}var Xl="__parameters__";function bk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Sk(t,e,n){return cs(()=>{let r=bk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Xl)?u[Xl]:Object.defineProperty(u,Xl,{value:[]})[Xl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Lt=oT(Sk("Optional"),8);function Ak(t){return typeof t=="function"}function _C(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var id=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},tr=(()=>{let t=()=>EC;return t.ngInherit=!0,t})();function EC(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nk),Rk}function Rk(){let t=wC(this),e=t?.current;if(e){let n=t.previous;if(n===Mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nk(t,e,n,r,i){let o=this.declaredInputs[r],s=wC(t)||Mk(t,{previous:Mr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new id(l&&l.currentValue,n,u===Mr),_C(t,e,i,n)}var IC="__ngSimpleChanges__";function wC(t){return t[IC]||null}function Mk(t,e){return t[IC]=e}var qT=[];var me=function(t,e=null,n){for(let r=0;r<qT.length;r++){let i=qT[r];i(t,e,n)}},ue=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(ue||{});function Pk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=EC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function xk(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function td(t,e,n){DC(t,e,3,n)}function nd(t,e,n,r){(t[K]&3)===n&&DC(t,e,n,r)}function ym(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function DC(t,e,n,r){let i=r!==void 0?t[Ri]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ri]+=65536),(a<o||o==-1)&&(kk(t,n,e,u),t[Ri]=(t[Ri]&4294901760)+u+2),u++}function zT(t,e){me(ue.LifecycleHookStart,t,e);let n=z(null);try{e.call(t)}finally{z(n),me(ue.LifecycleHookEnd,t,e)}}function kk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[K]>>14<t[Ri]>>16&&(t[K]&3)===e&&(t[K]+=16384,zT(a,o)):zT(a,o)}var rs=-1,Fi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Ok(t){return(t.flags&8)!==0}function Fk(t){return(t.flags&16)!==0}function Lk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];jk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Vk(t){return t===3||t===4||t===6}function jk(t){return t.charCodeAt(0)===64}function is(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?GT(t,n,i,null,e[++r]):GT(t,n,i,null,null))}}return t}function GT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function TC(t){return t!==rs}function od(t){return t&32767}function Uk(t){return t>>16}function sd(t,e){let n=Uk(t),r=e;for(;n>0;)r=r[Si],n--;return r}var Rm=!0;function ad(t){let e=Rm;return Rm=t,e}var Bk=256,CC=Bk-1,bC=5,$k=0,bn={};function Hk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ci)&&(r=n[Ci]),r==null&&(r=n[Ci]=$k++);let i=r&CC,o=1<<i;e.data[t+(i>>bC)]|=o}function cd(t,e){let n=SC(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,vm(r.data,t),vm(e,null),vm(r.blueprint,null));let i=Ym(t,e),o=t.injectorIndex;if(TC(i)){let s=od(i),a=sd(i,e),u=a[G].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function vm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ym(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=PC(i),r===null)return rs;if(n++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return rs}function Nm(t,e,n){Hk(t,e,n)}function AC(t,e,n){if(n&8||t!==void 0)return t;jl(e,"NodeInjector")}function RC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Xn],o=Tt(void 0);try{return i?i.get(e,r,n&8):Og(e,r,n&8)}finally{Tt(o)}}return AC(r,e,n)}function NC(t,e,n,r=0,i){if(t!==null){if(e[K]&2048&&!(r&2)){let s=Kk(t,e,n,r,bn);if(s!==bn)return s}let o=MC(t,e,n,r,bn);if(o!==bn)return o}return RC(e,n,r,i)}function MC(t,e,n,r,i){let o=Gk(n);if(typeof o=="function"){if(!am(e,t,r))return r&1?AC(i,n,r):RC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))jl(n);else return s}finally{cm()}}else if(typeof o=="number"){let s=null,a=SC(t,e),u=rs,l=r&1?e[kt][Gt]:null;for((a===-1||r&4)&&(u=a===-1?Ym(t,e):e[a+8],u===rs||!KT(r,!1)?a=-1:(s=e[G],a=od(u),e=sd(u,e)));a!==-1;){let h=e[G];if(WT(o,a,h.data)){let p=qk(a,e,n,s,r,l);if(p!==bn)return p}u=e[a+8],u!==rs&&KT(r,e[G].data[a+8]===l)&&WT(o,a,e)?(s=h,a=od(u),e=sd(u,e)):a=-1}}return i}function qk(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],u=r==null?xr(a)&&Rm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=zk(a,s,n,u,l);return h!==null?ud(e,s,h,a,i):bn}function zk(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&Tn(y)&&y.type===n)return u}return null}function ud(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Fi){let a=o;if(a.resolving){let y=tT(s[n]);throw kg(y)}let u=ad(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Tt(a.injectImpl):null,m=am(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Pk(n,s[n],e)}finally{p!==null&&Tt(p),ad(u),a.resolving=!1,cm()}}return o}function Gk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ci)?t[Ci]:void 0;return typeof e=="number"?e>=0?e&CC:Wk:e}function WT(t,e,n){let r=1<<t;return!!(n[e+(t>>bC)]&r)}function KT(t,e){return!(t&2)&&!(t&1&&e)}var Oi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NC(this._tNode,this._lView,e,Ii(r),n)}};function Wk(){return new Oi(At(),ae())}function Rn(t){return cs(()=>{let e=t.prototype.constructor,n=e[ja]||Mm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ja]||Mm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mm(t){return Cg(t)?()=>{let e=Mm(ot(t));return e&&e()}:Sr(t)}function Kk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Jo(s);){let a=MC(o,s,n,r|2,bn);if(a!==bn)return a;let u=o.parent;if(!u){let l=s[Hg];if(l){let h=l.get(n,bn,r);if(h!==bn)return h}u=PC(s),s=s[Si]}o=u}return i}function PC(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function Qk(){return Zm(At(),ae())}function Zm(t,e){return new Fr(sn(t,e))}var Fr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Qk}return t})();function xC(t){return(t.flags&128)===128}var Jm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Jm||{}),kC=new Map,Yk=0;function Zk(){return Yk++}function Jk(t){kC.set(t[Ka],t)}function Pm(t){kC.delete(t[Ka])}var QT="__ngContext__";function os(t,e){Dn(e)?(t[QT]=e[Ka],Jk(e)):t[QT]=e}function OC(t){return LC(t[Zo])}function FC(t){return LC(t[zt])}function LC(t){for(;t!==null&&!on(t);)t=t[zt];return t}var Xk;function Xm(t){Xk=t}var Dd=new j("",{factory:()=>eO}),eO="ng";var Td=new j(""),$i=new j("",{providedIn:"platform",factory:()=>"unknown"});var Cd=new j("",{factory:()=>M(Ye).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VC="r";var jC="di";var UC=!1,BC=new j("",{factory:()=>UC});var tO=(t,e,n,r)=>{};function nO(t,e,n,r){tO(t,e,n,r)}function ey(t){return(t.flags&32)===32}var rO=()=>null;function $C(t,e,n=!1){return rO(t,e,n)}function HC(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];sm(o),a.contentQueries(2,e[s],s)}}}finally{z(r)}}}function xm(t,e,n){sm(0);let r=z(null);try{e(t,n)}finally{z(r)}}function qC(t,e,n){if(zg(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{z(r)}}}var un=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(un||{});var ld=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fl})`}};function ty(t){return t instanceof ld?t.changingThisBreaksApplicationSecurity:t}function zC(t,e){let n=GC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Fl})`)}return n===e}function GC(t){return t instanceof ld&&t.getTypeName()||null}var iO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function WC(t){return t=String(t),t.match(iO)?t:"unsafe:"+t}function oO(t,e){return t.createText(e)}function sO(t,e,n){t.setValue(e,n)}function KC(t,e,n){return t.createElement(e,n)}function dd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QC(t,e,n){t.appendChild(e,n)}function YT(t,e,n,r,i){r!==null?dd(t,e,n,r,i):QC(t,e,n)}function YC(t,e,n,r){t.removeChild(null,e,n,r)}function aO(t,e,n){t.setAttribute(e,"style",n)}function cO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Lk(t,e,r),i!==null&&cO(t,e,i),o!==null&&aO(t,e,o)}var ny=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ny||{});function ry(t){let e=uO();return e?e.sanitize(ny.URL,t)||"":zC(t,"URL")?ty(t):WC(qa(t))}function uO(){let t=ae();return t&&t[wn].sanitizer}function JC(t){return t instanceof Function?t():t}function lO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var XC="ng-template";function dO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(iy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function iy(t){return t.type===4&&t.value!==XC}function hO(t,e,n){let r=t.type===4&&!n?XC:t.value;return e===r}function fO(t,e,n){let r=4,i=t.attrs,o=i!==null?mO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!hO(t,u,n)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!dO(t,i,u,n)){if(cn(r))return!1;s=!0}}else{let l=e[++a],h=pO(u,i,iy(t),n);if(h===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(t){return(t&1)===0}function pO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yO(e,t)}function gO(t,e,n=!1){for(let r=0;r<e.length;r++)if(fO(t,e[r],n))return!0;return!1}function mO(t){for(let e=0;e<t.length;e++){let n=t[e];if(Vk(n))return e}return t.length}function yO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ZT(t,e){return t?":not("+e.trim()+")":e}function vO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=ZT(o,i),i=""),r=s,o=o||!cn(r);n++}return i!==""&&(e+=ZT(o,i)),e}function _O(t){return t.map(vO).join(",")}function EO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!cn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Nn={};function oy(t,e,n,r,i,o,s,a,u,l,h){let p=Ue+r,m=p+i,y=IO(p,m),T=typeof l=="function"?l():l;return y[G]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function IO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nn);return n}function wO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sy(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[rn]=i,p[K]=r|4|128|8|64|1024,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),Qg(p),p[Xe]=p[Si]=t,p[ke]=n,p[wn]=s||t&&t[wn],p[be]=a||t&&t[be],p[Xn]=u||t&&t[Xn]||null,p[Gt]=o,p[Ka]=Zk(),p[Qo]=h,p[Hg]=l,p[kt]=e.type==2?t[kt]:p,p}function DO(t,e,n){let r=sn(e,t),i=wO(n),o=t[wn].rendererFactory,s=ay(t,sy(t,i,null,eb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function eb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function tb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ay(t,e){return t[Zo]?t[$g][zt]=e:t[Zo]=e,t[$g]=e,e}function st(t=1){nb(pt(),ae(),kr()+t,!1)}function nb(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&td(e,o,n)}else{let o=t.preOrderHooks;o!==null&&nd(e,o,0,n)}Or(n)}var bd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(bd||{});function km(t,e,n,r){let i=z(null);try{let[o,s,a]=t.inputs[n],u=null;(s&bd.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):_C(e,u,o,r)}finally{z(i)}}var Sn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Sn||{}),TO;function cy(t,e){return TO(t,e)}var Li=new Set,Sd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Sd||{}),Hi=new j(""),JT=new Set;function Lr(t){JT.has(t)||(JT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var uy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),rb=[0,1,2,3],ib=(()=>{class t{ngZone=M(De);scheduler=M(Rr);errorHandler=M(In,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Hi,{optional:!0})}execute(){let n=this.sequences.size>0;n&&me(ue.AfterRenderHooksStart),this.executing=!0;for(let r of rb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&me(ue.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Mi]??=[]).push(n),Xo(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Sd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),hd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Mi];e&&(this.view[Mi]=e.filter(n=>n!==this))}};function Ad(t,e){let n=e?.injector??M(je);return Lr("NgAfterNextRender"),bO(t,n,e,!0)}function CO(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function bO(t,e,n,r){let i=e.get(uy);i.impl??=e.get(ib);let o=e.get(Hi,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(an):null,a=e.get(Jl,null,{optional:!0}),u=new hd(i.impl,CO(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var ob=new j("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:M(Ke)})});function sb(t,e,n){let r=t.get(ob);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function SO(t,e){let n=t.get(ob);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function AO(t,e){for(let[n,r]of e)sb(t,r.animateFns)}function XT(t,e,n,r){let i=t?.[Pi]?.enter;e!==null&&i&&i.has(n.index)&&AO(r,i)}function ns(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;on(i)?u=i:Dn(i)&&(l=!0,i=i[rn]);let h=Wt(i);t===0&&r!==null?(XT(a,r,o,n),s==null?QC(e,r,h):dd(e,r,h,s||null,!0)):t===1&&r!==null?(XT(a,r,o,n),dd(e,r,h,s||null,!0)):t===2?eC(a,o,n,p=>{YC(e,h,l,p)}):t===3&&eC(a,o,n,()=>{e.destroyNode(h)}),u!=null&&BO(e,t,n,u,o,r,s)}}function RO(t,e){ab(t,e),e[rn]=null,e[Gt]=null}function NO(t,e,n,r,i,o){r[rn]=i,r[Gt]=e,Nd(t,r,n,1,i,o)}function ab(t,e){e[wn].changeDetectionScheduler?.notify(9),Nd(t,e,e[be],2,null,null)}function MO(t){let e=t[Zo];if(!e)return _m(t[G],t);for(;e;){let n=null;if(Dn(e))n=e[Zo];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[zt]&&e!==t;)Dn(e)&&_m(e[G],e),e=e[Xe];e===null&&(e=t),Dn(e)&&_m(e[G],e),n=e&&e[zt]}e=n}}function ly(t,e){let n=t[Za],r=n.indexOf(e);n.splice(r,1)}function Rd(t,e){if(xi(e))return;let n=e[be];n.destroyNode&&Nd(t,e,n,3,null,null),MO(e)}function _m(t,e){if(xi(e))return;let n=z(null);try{e[K]&=-129,e[K]|=256,e[Ot]&&Ma(e[Ot]),kO(t,e),xO(t,e),e[G].type===1&&e[be].destroy();let r=e[Ai];if(r!==null&&on(e[Xe])){r!==e[Xe]&&ly(r,e);let i=e[Ni];i!==null&&i.detachView(t)}Pm(e)}finally{z(n)}}function eC(t,e,n,r){let i=t?.[Pi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Li.add(t),sb(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),PO(t,r)}else t&&Li.delete(t),r(!1)},i)}function PO(t,e){let n=t[Pi]?.running;if(n){n.then(()=>{t[Pi].running=void 0,Li.delete(t),e(!0)});return}e(!1)}function xO(t,e){let n=t.cleanup,r=e[Yo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Yo]=null);let i=e[Yn];if(i!==null){e[Yn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Qa];if(o!==null){e[Qa]=null;for(let s of o)s.destroy()}}function kO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];me(ue.LifecycleHookStart,a,u);try{u.call(a)}finally{me(ue.LifecycleHookEnd,a,u)}}else{me(ue.LifecycleHookStart,i,o);try{o.call(i)}finally{me(ue.LifecycleHookEnd,i,o)}}}}}function OO(t,e,n){return FO(t,e.parent,n)}function FO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rn];if(xr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===un.None||i===un.Emulated)return null}return sn(r,n)}function LO(t,e,n){return jO(t,e,n)}function VO(t,e,n){return t.type&40?sn(t,n):null}var jO=VO,tC;function dy(t,e,n,r){let i=OO(t,r,e),o=e[be],s=r.parent||e[Gt],a=LO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)YT(o,i,n[u],a,!1);else YT(o,i,n,a,!1);tC!==void 0&&tC(o,r,e,n,i)}function ic(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Om(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ic(t,r);{let i=t[e.index];return on(i)?Om(-1,i):Wt(i)}}else{if(n&128)return ic(t,e.next);if(n&32)return cy(e,t)()||Wt(t[e.index]);{let r=cb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ar(t[kt]);return ic(i,r)}else return ic(t,e.next)}}}return null}function cb(t,e){if(e!==null){let r=t[kt][Gt],i=e.projection;return r.projection[i]}return null}function Om(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return ic(r,i)}return e[Pr]}function hy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Xn];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&os(Wt(u),r),n.flags|=2),!ey(n))if(l&8)hy(t,e,n.child,r,i,o,!1),ns(e,t,a,i,u,n,o,r);else if(l&32){let h=cy(n,r),p;for(;p=h();)ns(e,t,a,i,p,n,o,r);ns(e,t,a,i,u,n,o,r)}else l&16?UO(t,e,r,n,i,o):ns(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Nd(t,e,n,r,i,o){hy(n,r,t.firstChild,e,i,o,!1)}function UO(t,e,n,r,i,o){let s=n[kt],u=s[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ns(e,t,n[Xn],i,h,r,o,n)}else{let l=u,h=s[Xe];xC(r)&&(l.flags|=128),hy(t,e,l,h,i,o,!0)}}function BO(t,e,n,r,i,o,s){let a=r[Pr],u=Wt(r);a!==u&&ns(e,t,n,o,a,i,s);for(let l=Oe;l<r.length;l++){let h=r[l];Nd(h[G],h,t,e,o,a)}}function $O(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sn.Important),t.setStyle(n,r,i,o))}}function ub(t,e,n,r,i){let o=kr(),s=r&2;try{Or(-1),s&&e.length>Ue&&nb(t,e,Ue,!1);let a=s?ue.TemplateUpdateStart:ue.TemplateCreateStart;me(a,i,n),n(r,i)}finally{Or(o);let a=s?ue.TemplateUpdateEnd:ue.TemplateCreateEnd;me(a,i,n)}}function lb(t,e,n){QO(t,e,n),(n.flags&64)===64&&YO(t,e,n)}function fy(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function HO(t,e,n,r){let o=r.get(BC,UC)||n===un.ShadowDom||n===un.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return qO(s),s}function qO(t){zO(t)}var zO=()=>null;function GO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function db(t,e,n,r,i,o){let s=e[G];if(py(t,s,e,n,r)){xr(t)&&KO(e,t.index);return}t.type&3&&(n=GO(n)),WO(t,e,n,r,i,o)}function WO(t,e,n,r,i,o){if(t.type&3){let s=sn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function KO(t,e){let n=Kt(e,t);n[K]&16||(n[K]|=64)}function QO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;xr(n)&&DO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||cd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=ud(e,t,s,n);if(os(u,e),o!==null&&t1(e,s-r,u,a,n,o),Tn(a)){let l=Kt(n.index,e);l[ke]=ud(e,t,s,n)}}}function YO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=PT();try{Or(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Gl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ZO(u,l)}}finally{Or(-1),Gl(s)}}function ZO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function JO(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];gO(e,o.selectors,!1)&&(r??=[],Tn(o)?r.unshift(o):r.push(o))}return r}function XO(t,e,n,r,i,o){let s=sn(t,e);e1(e[be],s,o,t.value,n,r,i)}function e1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?qa(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function t1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];km(r,n,u,l)}}function hb(t,e,n,r,i){let o=Ue+n,s=e[G],a=i(s,e,t,r,n);e[o]=a,es(t,!0);let u=t.type===2;return u?(ZC(e[be],a,t),(wT()===0||Hl(t))&&os(a,e),DT()):os(a,e),Yl()&&(!u||!ey(t))&&dy(s,e,a,t),t}function fb(t){let e=t;return nm()?ST():(e=e.parent,es(e,!1)),e}function n1(t,e){let n=t[Xn];if(!n)return;let r;try{r=n.get(Ft,null)}catch{r=null}r?.(e)}function py(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];km(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];km(h,l,r,i),a=!0}return a}function r1(t,e){let n=Kt(e,t),r=n[G];i1(r,n);let i=n[rn];i!==null&&n[Qo]===null&&(n[Qo]=$C(i,n[Xn])),me(ue.ComponentStart);try{gy(r,n,n[ke])}finally{me(ue.ComponentEnd,n[ke])}}function i1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gy(t,e,n){Wl(e);try{let r=t.viewQuery;r!==null&&xm(1,r,n);let i=t.template;i!==null&&ub(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ni]?.finishViewCreation(t),t.staticContentQueries&&HC(t,e),t.staticViewQueries&&xm(2,t.viewQuery,n);let o=t.components;o!==null&&o1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Kl()}}function o1(t,e){for(let n=0;n<e.length;n++)r1(t,e[n])}function my(t,e,n,r){let i=z(null);try{let o=e.tView,a=t[K]&4096?4096:16,u=sy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ai]=l;let h=t[Ni];return h!==null&&(u[Ni]=h.createEmbeddedView(o)),gy(o,u,n),u}finally{z(i)}}function sc(t,e){return!e||e.firstChild===null||xC(t)}function ac(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Wt(o)),on(o)&&pb(o,r);let s=n.type;if(s&8)ac(t,e,n.child,r);else if(s&32){let a=cy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=cb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ar(e[kt]);ac(u[G],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pb(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&ac(r[G],r,i,e)}t[Pr]!==t[rn]&&e.push(t[Pr])}function gb(t){if(t[Mi]!==null){for(let e of t[Mi])e.impl.addSequence(e);t[Mi].length=0}}var mb=[];function s1(t){return t[Ot]??a1(t)}function a1(t){let e=mb.pop()??Object.create(u1);return e.lView=t,e}function c1(t){t.lView[Ot]!==t&&(t.lView=null,mb.push(t))}var u1=ee(O({},Aa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Xo(t.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function l1(t){let e=t[Ot]??Object.create(d1);return e.lView=t,e}var d1=ee(O({},Aa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Ar(t.lView);for(;e&&!yb(e[G]);)e=Ar(e);e&&Yg(e)},consumerOnSignalRead(){this.lView[Ot]=this}});function yb(t){return t.type!==2}function vb(t){if(t[Qa]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Qa])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[K]&8192)}}var h1=100;function _b(t,e=0){let r=t[wn].rendererFactory,i=!1;i||r.begin?.();try{f1(t,e)}finally{i||r.end?.()}}function f1(t,e){let n=rm();try{im(!0),Fm(t,e);let r=0;for(;Xa(t);){if(r===h1)throw new V(103,!1);r++,Fm(t,1)}}finally{im(n)}}function p1(t,e,n,r){if(xi(e))return;let i=e[K],o=!1,s=!1;Wl(e);let a=!0,u=null,l=null;o||(yb(t)?(l=s1(e),u=Na(l)):Ju()===null?(a=!1,l=l1(e),u=Na(l)):e[Ot]&&(Ma(e[Ot]),e[Ot]=null));try{Qg(e),AT(t.bindingStartIndex),n!==null&&ub(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&td(e,y,null)}else{let y=t.preOrderHooks;y!==null&&nd(e,y,0,null),ym(e,0)}if(s||g1(e),vb(e),Eb(e,0),t.contentQueries!==null&&HC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&td(e,y)}else{let y=t.contentHooks;y!==null&&nd(e,y,1),ym(e,1)}y1(t,e);let p=t.components;p!==null&&wb(e,p,0);let m=t.viewQuery;if(m!==null&&xm(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&td(e,y)}else{let y=t.viewHooks;y!==null&&nd(e,y,2),ym(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$l]){for(let y of e[$l])y();e[$l]=null}o||(gb(e),e[K]&=-73)}catch(h){throw o||Xo(e),h}finally{l!==null&&(Xu(l,u),a&&c1(l)),Kl()}}function Eb(t,e){for(let n=OC(t);n!==null;n=FC(n))for(let r=Oe;r<n.length;r++){let i=n[r];Ib(i,e)}}function g1(t){for(let e=OC(t);e!==null;e=FC(e)){if(!(e[K]&2))continue;let n=e[Za];for(let r=0;r<n.length;r++){let i=n[r];Yg(i)}}}function m1(t,e,n){me(ue.ComponentStart);let r=Kt(e,t);try{Ib(r,n)}finally{me(ue.ComponentEnd,r[ke])}}function Ib(t,e){ql(t)&&Fm(t,e)}function Fm(t,e){let r=t[G],i=t[K],o=t[Ot],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&el(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)p1(r,t,r.template,t[ke]);else if(i&8192){let a=z(null);try{vb(t),Eb(t,1);let u=r.components;u!==null&&wb(t,u,1),gb(t)}finally{z(a)}}}function wb(t,e,n){for(let r=0;r<e.length;r++)m1(t,e[r],n)}function y1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Or(~i);else{let o=i,s=n[++r],a=n[++r];MT(s,o);let u=e[o];me(ue.HostBindingsUpdateStart,u);try{a(2,u)}finally{me(ue.HostBindingsUpdateEnd,u)}}}}finally{Or(-1)}}function yy(t,e){let n=rm()?64:1088;for(t[wn].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Ar(t);if(Jo(t)&&!r)return t;t=r}return null}function Db(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Tb(t,e){let n=Oe+e;if(n<t.length)return t[n]}function Md(t,e,n,r=!0){let i=e[G];if(v1(i,e,t,n),r){let s=Om(n,t),a=e[be],u=a.parentNode(t[Pr]);u!==null&&NO(i,t[Gt],a,e,u,s)}let o=e[Qo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cb(t,e){let n=cc(t,e);return n!==void 0&&Rd(n[G],n),n}function cc(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let i=r[Ai];i!==null&&i!==t&&ly(i,r),e>0&&(t[n-1][zt]=r[zt]);let o=za(t,Oe+e);RO(r[G],r);let s=o[Ni];s!==null&&s.detachView(o[G]),r[Xe]=null,r[zt]=null,r[K]&=-129}return r}function v1(t,e,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][zt]=e),r<o-Oe?(e[zt]=n[i],Fg(n,Oe+r,e)):(n.push(e),e[zt]=null),e[Xe]=n;let s=e[Ai];s!==null&&n!==s&&bb(s,e);let a=e[Ni];a!==null&&a.insertView(t),zl(e),e[K]|=128}function bb(t,e){let n=t[Za],r=e[Xe];if(Dn(r))t[K]|=2;else{let i=r[Xe][kt];e[kt]!==i&&(t[K]|=2)}n===null?t[Za]=[e]:n.push(e)}var Vi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[G];return ac(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ke]}set context(e){this._lView[ke]=e}get destroyed(){return xi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(on(e)){let n=e[Ya],r=n?n.indexOf(this):-1;r>-1&&(cc(e,r),za(n,r))}this._attachedToViewContainer=!1}Rd(this._lView[G],this._lView)}onDestroy(e){Zg(this._lView,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){zl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,_b(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jo(this._lView),n=this._lView[Ai];n!==null&&!e&&ly(n,this._lView),ab(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=Jo(this._lView),r=this._lView[Ai];r!==null&&!n&&bb(r,this._lView),zl(this._lView)}};function Pd(t,e,n,r,i){let o=t.data[e];if(o===null)o=_1(t,e,n,r,i),NT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bT();o.injectorIndex=s===null?-1:s.injectorIndex}return es(o,!0),o}function _1(t,e,n,r,i){let o=tm(),s=nm(),a=s?o:o&&o.parent,u=t.data[e]=I1(t,a,n,e,r,i);return E1(t,u,o,s),u}function E1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function I1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return CT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function w1(t){let e=t[qg]??[],r=t[Xe][be],i=[];for(let o of e)o.data[jC]!==void 0?i.push(o):D1(o,r);t[qg]=i}function D1(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[VC];for(;n<i;){let o=r.nextSibling;YC(e,r,!1),r=o,n++}}}var T1=()=>null,C1=()=>null;function Lm(t,e){return T1(t,e)}function Sb(t,e,n){return C1(t,e,n)}var Ab=class{},xd=class{},Vm=class{resolveComponentFactory(e){throw new V(917,!1)}},dc=class{static NULL=new Vm},ji=class{},qi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>b1()}return t})();function b1(){let t=ae(),e=At(),n=Kt(e.index,t);return(Dn(n)?n:t)[be]}var Rb=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var rd={},jm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,rd,r);return i!==rd||n===rd?i:this.parentInjector.get(e,n,r)}};function fd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Tg(i,a);else if(o==2){let u=a,l=e[++s];r=Tg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function de(t,e=0){let n=ae();if(n===null)return te(t,e);let r=At();return NC(r,n,ot(t),e)}function S1(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}N1(t,e,n,a,o,u,l)}o!==null&&r!==null&&A1(n,r,o)}function A1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function R1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function N1(t,e,n,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Tn(y)&&(u=y,R1(t,n,m)),Nm(cd(n,e),t,y.type)}F1(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=tb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=is(n.mergedAttrs,y.hostAttrs),P1(t,n,e,p,y),O1(p,y,i),s!==null&&s.has(y)){let[R,A]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}M1(t,n,o)}function M1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))nC(0,e,i,r),nC(1,e,i,r),iC(e,r,!1);else{let o=n.get(i);rC(0,e,o,r),rC(1,e,o,r),iC(e,r,!0)}}}function nC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Nb(e,o)}}function rC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Nb(e,s)}}function Nb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function iC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||iy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function P1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Sr(i.type,!0)),s=new Fi(o,Tn(i),de,null);t.blueprint[r]=s,n[r]=s,x1(t,e,r,tb(t,n,i.hostVars,Nn),i)}function x1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;k1(s)!=a&&s.push(a),s.push(n,r,o)}}function k1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function O1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function F1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mb(t,e,n,r,i,o,s,a){let u=e[G],l=u.consts,h=Cn(l,s),p=Pd(u,t,n,r,h);return o&&S1(u,e,p,Cn(l,a),i),p.mergedAttrs=is(p.mergedAttrs,p.attrs),p.attrs!==null&&fd(p,p.attrs,!1),p.mergedAttrs!==null&&fd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Pb(t,e){xk(t,e),zg(e)&&t.queries.elementEnd(e)}function L1(t,e,n,r,i,o){let s=e.consts,a=Cn(s,i),u=Pd(e,t,n,r,a);if(u.mergedAttrs=is(u.mergedAttrs,u.attrs),o!=null){let l=Cn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&fd(u,u.attrs,!1),u.mergedAttrs!==null&&fd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function xb(t,e,n){return t[e]=n}function An(t,e,n){if(n===Nn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function oC(t,e,n,r){let i=An(t,e,n);return An(t,e+1,r)||i}function V1(t,e,n,r,i,o){let s=oC(t,e,n,r);return oC(t,e+2,i,o)||s}function Em(t,e,n){return function r(i){let o=xr(t)?Kt(t.index,e):e;yy(o,5);let s=e[ke],a=sC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=sC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function sC(t,e,n,r){let i=z(null);try{return me(ue.OutputStart,e,n),n(r)!==!1}catch(o){return n1(t,o),!1}finally{me(ue.OutputEnd,e,n),z(i)}}function j1(t,e,n,r,i,o,s,a){let u=Hl(t),l=!1,h=null;if(!r&&u&&(h=B1(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=sn(t,n),m=r?r(p):p;nO(n,m,o,a);let y=i.listen(m,o,a);if(!U1(o)){let T=r?R=>r(Wt(R[t.index])):t.index;kb(T,e,n,o,a,y,!1)}}return l}function U1(t){return t.startsWith("animation")||t.startsWith("transition")}function B1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Yo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function kb(t,e,n,r,i,o,s){let a=e.firstCreatePass?IT(e):null,u=ET(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function aC(t,e,n,r,i,o){let s=e[n],a=e[G],l=a.data[n].outputs[r],p=s[l].subscribe(o);kb(t.index,a,e,i,o,p,!0)}var Um=Symbol("BINDING");var pd=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new ss(n,this.ngModule)}};function $1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&bd.SignalBased)!==0};return i&&(o.transform=i),o})}function H1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function q1(t,e,n){let r=e instanceof Ke?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new jm(n,r):n}function z1(t){let e=t.get(ji,null);if(e===null)throw new V(407,!1);let n=t.get(Rb,null),r=t.get(Rr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function G1(t,e){let n=Ob(t);return KC(e,n,n==="svg"?gT:n==="math"?mT:null)}function Ob(t){return(t.selectors[0][0]||"div").toLowerCase()}var ss=class extends xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=H1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_O(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){me(ue.DynamicComponentStart);let a=z(null);try{let u=this.componentDef,l=W1(r,u,s,o),h=q1(u,i||this.ngModule,e),p=z1(h),m=p.rendererFactory.createRenderer(null,u),y=r?HO(m,r,u.encapsulation,h):G1(u,m),T=s?.some(cC)||o?.some(x=>typeof x!="function"&&x.bindings.some(cC)),R=sy(null,l,null,512|eb(u),null,null,p,m,h,null,$C(y,h,!0));R[Ue]=y,Wl(R);let A=null;try{let x=Mb(Ue,R,2,"#host",()=>l.directiveRegistry,!0,0);ZC(m,y,x),os(y,R),lb(l,R,x),qC(l,x,R),Pb(l,x),n!==void 0&&Q1(x,this.ngContentSelectors,n),A=Kt(x.index,R),R[ke]=A[ke],gy(l,R,null)}catch(x){throw A!==null&&Pm(A),Pm(R),x}finally{me(ue.DynamicComponentEnd),Kl()}return new gd(this.componentType,R,!!T)}finally{z(a)}}};function W1(t,e,n,r){let i=t?["ng-version","21.0.6"]:EO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Um].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Um].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=xg(p);u.push(m)}return oy(0,null,K1(o,s),1,a,u,null,null,null,[i],null)}function K1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function cC(t){let e=t[Um].kind;return e==="input"||e==="twoWay"}var gd=class extends Ab{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ja(n[G],Ue),this.location=Zm(this._tNode,n),this.instance=Kt(this._tNode.index,n)[ke],this.hostView=this.changeDetectorRef=new Vi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=py(r,i[G],i,e,n);this.previousInputValues.set(e,n);let s=Kt(r.index,i);yy(s,1)}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Q1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hc=(()=>{class t{static __NG_ELEMENT_ID__=Y1}return t})();function Y1(){let t=At();return J1(t,ae())}var Z1=hc,Fb=class extends Z1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zm(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ym(this._hostTNode,this._hostLView);if(TC(e)){let n=sd(e,this._hostLView),r=od(e),i=n[G].data[r+8];return new Oi(i,n)}else return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,sc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!Ak(e),l;if(u)l=n;else{let A=n||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new ss(Nr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(Ke,null);x&&(o=x)}let m=Nr(h.componentType??{}),y=Lm(this._lContainer,m?.id??null),T=y?.firstChild??null,R=h.create(p,i,T,o,s,a);return this.insertImpl(R.hostView,l,sc(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Xe],l=new Fb(u,u[Gt],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Md(s,i,o,r),e.attachToViewContainerRef(),Fg(Im(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=cc(this._lContainer,n);r&&(za(Im(this._lContainer),n),Rd(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=cc(this._lContainer,n);return r&&za(Im(this._lContainer),n)!=null?new Vi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uC(t){return t[Ya]}function Im(t){return t[Ya]||(t[Ya]=[])}function J1(t,e){let n,r=e[t.index];return on(r)?n=r:(n=Db(r,e,null,t),e[t.index]=n,ay(e,n)),eF(n,e,t,r),new Fb(n,t,e)}function X1(t,e){let n=t[be],r=n.createComment(""),i=sn(e,t),o=n.parentNode(i);return dd(n,o,r,n.nextSibling(i),!1),r}var eF=rF,tF=()=>!1;function nF(t,e,n){return tF(t,e,n)}function rF(t,e,n,r){if(t[Pr])return;let i;n.type&8?i=Wt(r):i=X1(e,n),t[Pr]=i}var Ui=class{},kd=class{};var md=class extends Ui{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Pg(e);this._bootstrapComponents=JC(o.bootstrap),this._r3Injector=um(e,n,[{provide:Ui,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],Zn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yd=class extends kd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new md(this.moduleType,e,[])}};var uc=class extends Ui{injector;componentFactoryResolver=new pd(this);instance=null;constructor(e){super();let n=new Di([...e.providers,{provide:Ui,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||Wa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fc(t,e,n=null){return new uc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var iF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=jg(!1,n.type),i=r.length>0?fc([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(te(Ke))})}return t})();function nr(t){return cs(()=>{let e=Lb(t),n=ee(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||Pt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Lr("NgStandalone"),Vb(n);let r=t.dependencies;return n.directiveDefs=lC(r,oF),n.pipeDefs=lC(r,eT),n.id=cF(n),n})}function oF(t){return Nr(t)||xg(t)}function Vr(t){return cs(()=>({type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sF(t,e){if(t==null)return Mr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=bd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function aF(t){if(t==null)return Mr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Be(t){return cs(()=>{let e=Lb(t);return Vb(e),e})}function Od(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lb(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:sF(t.inputs,e),outputs:aF(t.outputs),debugInfo:null}}function Vb(t){t.features?.forEach(e=>e(t))}function lC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function cF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uF(t){return Object.getPrototypeOf(t.prototype).constructor}function Vt(t){let e=uF(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=wm(t.inputs),s.declaredInputs=wm(t.declaredInputs),s.outputs=wm(t.outputs);let a=i.hostBindings;a&&pF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&hF(t,u),l&&fF(t,l),lF(t,i),XD(t.outputs,i.outputs),Tn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Vt&&(n=!1)}}e=Object.getPrototypeOf(e)}dF(r)}function lF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function dF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=is(i.hostAttrs,n=is(n,i.hostAttrs))}}function wm(t){return t===Mr?{}:t===Pt?[]:t}function hF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function pF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function gF(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=is(t.mergedAttrs,t.attrs);let h=t.tView=oy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),es(t,!1);let u=mF(n,e,t,r);Yl()&&dy(n,e,u,t),os(u,e);let l=Db(u,e,u,t);e[r+Ue]=l,ay(e,l),nF(l,t,e)}function vd(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ue,m;if(e.firstCreatePass){if(m=Pd(e,p,4,s||null,a||null),l!=null){let y=Cn(e.consts,l);m.localNames=[];for(let T=0;T<y.length;T+=2)m.localNames.push(y[T],-1)}}else m=e.data[p];return gF(m,t,e,n,r,i,o,u),l!=null&&fy(t,m,h),m}var mF=yF;function yF(t,e,n,r){return Zl(!0),e[be].createComment("")}var vy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function jb(t){return typeof t=="function"&&t[It]!==void 0}function _y(t){return jb(t)&&typeof t.set=="function"}var Ey=new j("");function rr(t){return!!t&&typeof t.then=="function"}function Fd(t){return!!t&&typeof t.subscribe=="function"}var Ub=new j("");var Iy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=M(Ub,{optional:!0})??[];injector=M(je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Qe(this.injector,i);if(rr(o))n.push(o);else if(Fd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ld=new j("");function Bb(){Hp(()=>{let t="";throw new V(600,t)})}function $b(t){return t.isBoundToModule}var vF=10;var jr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Ft);afterRenderManager=M(uy);zonelessEnabled=M(nc);rootEffectScheduler=M(mm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Je;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(er);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ee(n=>!n))}constructor(){M(Hi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=M(Ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=je.NULL){return this._injector.get(De).run(()=>{me(ue.BootstrapComponentStart);let s=n instanceof xd;if(!this._injector.get(Iy).done){let T="";throw new V(405,T)}let u;s?u=n:u=this._injector.get(dc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=$b(u)?void 0:this._injector.get(Ui),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Ey,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),oc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),me(ue.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){me(ue.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw me(ue.ChangeDetectionEnd),new V(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),me(ue.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ji,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<vF;){me(ue.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{me(ue.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Xa(i))continue;let o=r&&!this.zonelessEnabled?0:1;_b(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Xa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;oc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ld,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>oc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vd(t,e,n,r){let i=ae(),o=ki();if(An(i,o,e)){let s=pt(),a=Ql();XO(a,i,t,e,n,r)}return Vd}var r7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Bm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Dm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function _F(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){z(r);let l=e.length-1;for(z(null);s<=a&&s<=l;){let h=t.at(s),p=e[s],m=Dm(s,h,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),T=e[l],R=Dm(a,y,l,T,n);if(R!==0){R<0&&t.updateValue(a,T),a--,l--;continue}let A=n(s,h),x=n(a,y),U=n(s,p);if(Object.is(U,x)){let q=n(l,T);Object.is(q,A)?(t.swap(s,a),t.updateValue(a,T),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new _d,o??=hC(t,s,a,n),$m(t,i,s,U))t.updateValue(s,p),s++,a++;else if(o.has(U))i.set(A,t.detach(s)),a--;else{let q=t.create(s,e[s]);t.attach(s,q),s++,a++}}for(;s<=l;)dC(t,i,n,s,e[s]),s++}else if(e!=null){z(r);let l=e[Symbol.iterator]();z(null);let h=l.next();for(;!h.done&&s<=a;){let p=t.at(s),m=h.value,y=Dm(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,h=l.next();else{i??=new _d,o??=hC(t,s,a,n);let T=n(s,m);if($m(t,i,s,T))t.updateValue(s,m),s++,a++,h=l.next();else if(!o.has(T))t.attach(s,t.create(s,m)),s++,a++,h=l.next();else{let R=n(s,p);i.set(R,t.detach(s)),a--}}}for(;!h.done;)dC(t,i,n,t.length,h.value),h=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function $m(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function dC(t,e,n,r,i){if($m(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function hC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var _d=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function zi(t,e,n,r,i,o,s,a){Lr("NgControlFlow");let u=ae(),l=pt(),h=Cn(l.consts,o);return vd(u,l,t,e,n,r,i,h,256,s,a),Gi}function Gi(t,e,n,r,i,o,s,a){Lr("NgControlFlow");let u=ae(),l=pt(),h=Cn(l.consts,o);return vd(u,l,t,e,n,r,i,h,512,s,a),Gi}function Wi(t,e){Lr("NgControlFlow");let n=ae(),r=ki(),i=n[r]!==Nn?n[r]:-1,o=i!==-1?Ed(n,Ue+i):void 0,s=0;if(An(n,r,t)){let a=z(null);try{if(o!==void 0&&Cb(o,s),t!==-1){let u=Ue+t,l=Ed(n,u),h=Gm(n[G],u),p=Sb(l,h,n),m=my(n,h,e,{dehydratedView:p});Md(l,m,s,sc(h,p))}}finally{z(a)}}else if(o!==void 0){let a=Tb(o,s);a!==void 0&&(a[ke]=e)}}var Hm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};var qm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function wy(t,e,n,r,i,o,s,a,u,l,h,p,m){Lr("NgControlFlow");let y=ae(),T=pt(),R=u!==void 0,A=ae(),x=a?s.bind(A[kt][ke]):s,U=new qm(R,x);A[Ue+t]=U,vd(y,T,t+1,e,n,r,i,Cn(T.consts,o),256),R&&vd(y,T,t+2,u,l,h,p,Cn(T.consts,m),512)}var zm=class extends Bm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Oe}at(e){return this.getLView(e)[ke].$implicit}attach(e,n){let r=n[Qo];this.needsIndexUpdate||=e!==this.length,Md(this.lContainer,n,e,sc(this.templateTNode,r)),EF(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,IF(this.lContainer,e),wF(this.lContainer,e)}create(e,n){let r=Lm(this.lContainer,this.templateTNode.tView.ssrId);return my(this.hostLView,this.templateTNode,new Hm(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Rd(e[G],e)}updateValue(e,n){this.getLView(e)[ke].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ke].$index=e}getLView(e){return DF(this.lContainer,e)}};function Dy(t){let e=z(null),n=kr();try{let r=ae(),i=r[G],o=r[n],s=n+1,a=Ed(r,s);if(o.liveCollection===void 0){let l=Gm(i,s);o.liveCollection=new zm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(_F(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=ki(),h=u.length===0;if(An(r,l,h)){let p=n+2,m=Ed(r,p);if(h){let y=Gm(i,p),T=Sb(m,y,r),R=my(r,y,void 0,{dehydratedView:T});Md(m,R,0,sc(y,T))}else i.firstUpdatePass&&w1(m),Cb(m,0)}}}finally{z(e)}}function Ed(t,e){return t[e]}function EF(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n],i=r?r[Pi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Xn];SO(o,i),Li.delete(r),i.detachedLeaveAnimationFns=void 0}}function IF(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n],i=r?r[Pi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function wF(t,e){return cc(t,e)}function DF(t,e){return Tb(t,e)}function Gm(t,e){return Ja(t,e)}function us(t,e,n){let r=ae(),i=ki();if(An(r,i,e)){let o=pt(),s=Ql();db(s,r,t,e,r[be],n)}return us}function fC(t,e,n,r,i){py(e,t,n,i?"class":"style",r)}function Se(t,e,n,r){let i=ae(),o=i[G],s=t+Ue,a=o.firstCreatePass?Mb(s,i,2,e,JO,TT(),n,r):o.data[s];if(hb(a,i,t,e,Hb),Hl(a)){let u=i[G];lb(u,i,a),qC(u,a,i)}return r!=null&&fy(i,a),Se}function Ne(){let t=pt(),e=At(),n=fb(e);return t.firstCreatePass&&Pb(t,n),Xg(n)&&em(),Jg(),n.classesWithoutHost!=null&&Ok(n)&&fC(t,n,ae(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Fk(n)&&fC(t,n,ae(),n.stylesWithoutHost,!1),Ne}function Ur(t,e,n,r){return Se(t,e,n,r),Ne(),Ur}function Mn(t,e,n,r){let i=ae(),o=i[G],s=t+Ue,a=o.firstCreatePass?L1(s,o,2,e,n,r):o.data[s];return hb(a,i,t,e,Hb),r!=null&&fy(i,a),Mn}function ln(){let t=At(),e=fb(t);return Xg(e)&&em(),Jg(),ln}var Hb=(t,e,n,r,i)=>(Zl(!0),KC(e[be],r,VT()));function jd(){return ae()}var rc=void 0;function TF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var CF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",rc,rc,rc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TF],Tm={};function pc(t){let e=bF(t),n=pC(e);if(n)return n;let r=e.split("-")[0];if(n=pC(r),n)return n;if(r==="en")return CF;throw new V(701,!1)}function pC(t){return t in Tm||(Tm[t]=Ti.ng&&Ti.ng.common&&Ti.ng.common.locales&&Ti.ng.common.locales[t]),Tm[t]}var Br=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Br||{});function bF(t){return t.toLowerCase().replace(/_/g,"-")}var gc="en-US",SF="USD";var AF=gc;function qb(t){typeof t=="string"&&(AF=t.toLowerCase().replace(/_/g,"-"))}function jt(t,e,n){let r=ae(),i=pt(),o=At();return zb(i,r,r[be],o,t,e,n),jt}function zb(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Em(r,e,o),j1(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Em(r,e,o),aC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Em(r,e,o),aC(r,e,p,i,i,u)}}function ls(t=1){return LT(t)}function ed(t,e){return t<<17|e<<2}function Bi(t){return t>>17&32767}function RF(t){return(t&2)==2}function NF(t,e){return t&131071|e<<17}function Wm(t){return t|2}function as(t){return(t&131068)>>2}function Cm(t,e){return t&-131069|e<<2}function MF(t){return(t&1)===1}function Km(t){return t|1}function PF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bi(s),u=as(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ko(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Bi(t[a+1]);t[r+1]=ed(m,a),m!==0&&(t[m+1]=Cm(t[m+1],r)),t[a+1]=NF(t[a+1],r)}else t[r+1]=ed(a,0),a!==0&&(t[a+1]=Cm(t[a+1],r)),a=r;else t[r+1]=ed(u,0),a===0?a=r:t[u+1]=Cm(t[u+1],r),u=r;l&&(t[r+1]=Wm(t[r+1])),gC(t,h,r,!0),gC(t,h,r,!1),xF(e,h,t,r,o),s=ed(a,u),o?e.classBindings=s:e.styleBindings=s}function xF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ko(o,e)>=0&&(n[r+1]=Km(n[r+1]))}function gC(t,e,n,r){let i=t[n+1],o=e===null,s=r?Bi(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];kF(u,e)&&(a=!0,t[s+1]=r?Km(l):Wm(l)),s=r?Bi(l):as(l)}a&&(t[n+1]=r?Wm(i):Km(i))}function kF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ko(t,e)>=0:!1}function Ki(t,e){return OF(t,e,null,!0),Ki}function OF(t,e,n,r){let i=ae(),o=pt(),s=RT(2);if(o.firstUpdatePass&&LF(o,t,s,r),e!==Nn&&An(i,s,e)){let a=o.data[kr()];$F(o,a,i,i[be],t,i[s+1]=HF(e,n),r,s)}}function FF(t,e){return e>=t.expandoStartIndex}function LF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[kr()],s=FF(t,n);qF(o,r)&&e===null&&!s&&(e=!1),e=VF(i,o,e,r),PF(i,o,e,n,s,r)}}function VF(t,e,n,r){let i=xT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bm(null,t,e,n,r),n=lc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=bm(i,t,e,n,r),o===null){let u=jF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=bm(null,t,e,u[1],r),u=lc(u,e.attrs,r),UF(t,e,r,u))}else o=BF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function jF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[Bi(r)]}function UF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Bi(i)]=r}function BF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=lc(r,s,n)}return lc(r,e.attrs,n)}function bm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=lc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function lc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function $F(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=MF(l)?mC(u,e,n,i,as(l),s):void 0;if(!Id(h)){Id(o)||RF(l)&&(o=mC(u,null,n,i,a,s));let p=Gg(kr(),n);$O(r,s,p,i,o)}}function mC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Nn&&(m=p?Pt:void 0);let y=p?Bl(m,r):h===r?m:void 0;if(l&&!Id(y)&&(y=Bl(u,r)),Id(y)&&(a=y,s))return a;let T=t[i+1];i=s?Bi(T):as(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Bl(u,r))}return a}function Id(t){return t!==void 0}function HF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Zn(ty(t)))),t}function qF(t,e){return(t.flags&(e?8:16))!==0}function Me(t,e=""){let n=ae(),r=pt(),i=t+Ue,o=r.firstCreatePass?Pd(r,i,1,e,null):r.data[i],s=zF(r,n,o,e,t);n[i]=s,Yl()&&dy(r,n,s,o),es(o,!1)}var zF=(t,e,n,r,i)=>(Zl(!0),oO(e[be],r));function GF(t,e,n,r=""){return An(t,ki(),n)?e+qa(n)+r:Nn}function mc(t){return yc("",t),mc}function yc(t,e,n){let r=ae(),i=GF(r,t,e,n);return i!==Nn&&WF(r,kr(),i),yc}function WF(t,e,n){let r=Gg(e,t);sO(t[be],r,n)}function Qi(t,e,n){_y(e)&&(e=e());let r=ae(),i=ki();if(An(r,i,e)){let o=pt(),s=Ql();db(s,r,t,e,r[be],n)}return Qi}function ds(t,e){let n=_y(t);return n&&t.set(e),n}function Yi(t,e){let n=ae(),r=pt(),i=At();return zb(r,n,n[be],i,t,e),Yi}function yC(t,e,n){let r=pt();r.firstCreatePass&&Gb(e,r.data,r.blueprint,Tn(t),n)}function Gb(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gb(t[o],e,n,r,i);else{let o=pt(),s=ae(),a=At(),u=wi(t)?t:ot(t.provide),l=Bg(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(wi(t)||!t.multi){let y=new Fi(l,i,de,null),T=Am(u,e,i?h:h+m,p);T===-1?(Nm(cd(a,s),o,u),Sm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=Am(u,e,h+m,p),T=Am(u,e,h,h+m),R=y>=0&&n[y],A=T>=0&&n[T];if(i&&!A||!i&&!R){Nm(cd(a,s),o,u);let x=YF(i?QF:KF,n.length,i,r,l,t);!i&&A&&(n[T].providerFactory=x),Sm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=Wb(n[i?T:y],l,!i&&r);Sm(o,t,y>-1?y:T,x)}!i&&r&&A&&n[T].componentProviders++}}}function Sm(t,e,n,r){let i=wi(e),o=hT(e);if(i||o){let u=(o?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Wb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Am(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function KF(t,e,n,r,i){return Qm(this.multi,[])}function QF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=ud(r,r[G],this.providerFactory.index,i);s=u.slice(0,a),Qm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Qm(o,s);return s}function Qm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function YF(t,e,n,r,i,o){let s=new Fi(t,n,de,null);return s.multi=[],s.index=e,s.componentProviders=0,Wb(s,i,r&&!n),s}function ir(t,e){return n=>{n.providersResolver=(r,i)=>yC(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>yC(r,i?i(e):e,!0))}}function Kb(t,e){let n=t[e];return n===Nn?void 0:n}function ZF(t,e,n,r,i,o){let s=e+n;return An(t,s,i)?xb(t,s+1,o?r.call(o,i):r(i)):Kb(t,s+1)}function JF(t,e,n,r,i,o,s,a,u){let l=e+n;return V1(t,l,i,o,s,a)?xb(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):Kb(t,l+4)}function Zi(t,e){let n=pt(),r,i=t+Ue;n.firstCreatePass?(r=XF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Sr(r.type,!0)),s,a=Tt(de);try{let u=ad(!1),l=o();return ad(u),Kg(n,ae(),i,l),l}finally{Tt(a)}}function XF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function hs(t,e,n){let r=t+Ue,i=ae(),o=Wg(i,r);return Qb(i,r)?ZF(i,om(),e,o.transform,n,o):o.transform(n)}function Ty(t,e,n,r,i,o){let s=t+Ue,a=ae(),u=Wg(a,s);return Qb(a,s)?JF(a,om(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function Qb(t,e){return t[G].data[e].pure}var wd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Cy=(()=>{class t{compileModuleSync(n){return new yd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Pg(n),o=JC(i.declarations).reduce((s,a)=>{let u=Nr(a);return u&&s.push(new ss(u)),s},[]);return new wd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yb=(()=>{class t{applicationErrorHandler=M(Ft);appRef=M(jr);taskService=M(er);ngZone=M(De);zonelessEnabled=M(nc);tracing=M(Hi,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new We;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ba):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?dm:lm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ba+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zb(){return[{provide:Rr,useExisting:Yb},{provide:De,useClass:$a},{provide:nc,useValue:!0}]}function eL(){return typeof $localize<"u"&&$localize.locale||gc}var vc=new j("",{factory:()=>M(vc,{optional:!0,skipSelf:!0})||eL()}),by=new j("",{factory:()=>SF});function fs(t,e){return tl(t,e?.equal)}var Xb=Symbol("InputSignalNode#UNSET"),pL=ee(O({},nl),{transformFn:void 0,applyValueToInputSignal(t,e){Pa(t,e)}});function eS(t,e){let n=Object.create(pL);n.value=t,n.transformFn=e?.transform;function r(){if(Ra(n),n.value===Xb){let i=null;throw new V(-950,i)}return n.value}return r[It]=n,r}function Jb(t,e){return eS(t,e)}function gL(t){return eS(Xb,t)}var tS=(Jb.required=gL,Jb);var Sy=new j(""),mL=new j("");function _c(t){return!t.moduleRef}function yL(t){let e=_c(t)?t.r3Injector:t.moduleRef.injector,n=e.get(De);return n.run(()=>{_c(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ft),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),_c(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Sy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Sy);s.add(o),t.moduleRef.onDestroy(()=>{oc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return _L(r,n,()=>{let o=e.get(er),s=o.add(),a=e.get(Iy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(vc,gc);if(qb(u||gc),!e.get(mL,!0))return _c(t)?e.get(jr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(_c(t)){let h=e.get(jr);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return vL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var vL;function _L(t,e,n){try{let r=n();return rr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ud=null;function EL(t=[],e){return je.create({name:e,providers:[{provide:Ga,useValue:"platform"},{provide:Sy,useValue:new Set([()=>Ud=null])},...t]})}function IL(t=[]){if(Ud)return Ud;let e=EL(t);return Ud=e,Bb(),wL(e),e}function wL(t){let e=t.get(Td,null);Qe(t,()=>{e?.forEach(n=>n())})}function Ry(){return!1}var Ji=(()=>{class t{static __NG_ELEMENT_ID__=DL}return t})();function DL(t){return TL(At(),ae(),(t&16)===16)}function TL(t,e,n){if(xr(t)&&!n){let r=Kt(t.index,e);return new Vi(r,r)}else if(t.type&175){let r=e[kt];return new Vi(r,e)}return null}function nS(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;me(ue.BootstrapApplicationStart);try{let o=i?.injector??IL(r),s=[Zb(),$T,...n||[]],a=new uc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return yL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{me(ue.BootstrapApplicationEnd)}}function Bd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var rS=null;function Yt(){return rS}function Ny(t){rS??=t}var Ec=class{},$d=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(iS),providedIn:"platform"})}return t})();var iS=(()=>{class t extends $d{_location;_history;_doc=M(Ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function aS(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function oS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function $r(t){return t&&t[0]!=="?"?`?${t}`:t}var Hd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(bL),providedIn:"root"})}return t})(),CL=new j(""),bL=(()=>{class t extends Hd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return aS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(te($d),te(CL,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ps=(()=>{class t{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=RL(oS(sS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$r(r))}normalize(n){return t.stripTrailingSlash(AL(this._basePath,sS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$r;static joinWithSlash=aS;static stripTrailingSlash=oS;static \u0275fac=function(r){return new(r||t)(te(Hd))};static \u0275prov=B({token:t,factory:()=>SL(),providedIn:"root"})}return t})();function SL(){return new ps(te(Hd))}function AL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sS(t){return t.replace(/\/index.html$/,"")}function RL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var lS={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Oy=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Oy||{});var Pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gs(t,e){let n=pc(t),r=n[Br.NumberSymbols][e];if(typeof r>"u"){if(e===Pn.CurrencyDecimal)return n[Br.NumberSymbols][Pn.Decimal];if(e===Pn.CurrencyGroup)return n[Br.NumberSymbols][Pn.Group]}return r}function dS(t,e){return pc(t)[Br.NumberFormats][e]}function NL(t){return pc(t)[Br.Currencies]}function hS(t,e,n="en"){let r=NL(n)[t]||lS[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var ML=2;function fS(t){let e,n=lS[t];return n&&(e=n[2]),typeof e=="number"?e:ML}var PL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,cS=22,qd=".",Ic="0",xL=";",kL=",",My="#",uS="\xA4";function OL(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=gs(n,Pn.Infinity);else{let l=VL(t);s&&(l=LL(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let U=o.match(PL);if(U===null)throw new V(2306,!1);let q=U[1],he=U[3],Ze=U[5];q!=null&&(h=Py(q)),he!=null&&(p=Py(he)),Ze!=null?m=Py(Ze):he!=null&&p>m&&(m=p)}jL(l,p,m);let y=l.digits,T=l.integerLen,R=l.exponent,A=[];for(u=y.every(U=>!U);T<h;T++)y.unshift(0);for(;T<0;T++)y.unshift(0);T>0?A=y.splice(T,y.length):(A=y,y=[0]);let x=[];for(y.length>=e.lgSize&&x.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)x.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&x.unshift(y.join("")),a=x.join(gs(n,r)),A.length&&(a+=gs(n,i)+A.join("")),R&&(a+=gs(n,Pn.Exponential)+"+"+R)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function pS(t,e,n,r,i){let o=dS(e,Oy.Currency),s=FL(o,gs(e,Pn.MinusSign));return s.minFrac=fS(r),s.maxFrac=s.minFrac,OL(t,s,e,Pn.CurrencyGroup,Pn.CurrencyDecimal,i).replace(uS,n).replace(uS,"").trim()}function FL(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(xL),i=r[0],o=r[1],s=i.indexOf(qd)!==-1?i.split(qd):[i.substring(0,i.lastIndexOf(Ic)+1),i.substring(i.lastIndexOf(Ic)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(My));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Ic?n.minFrac=n.maxFrac=h+1:p===My?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(kL);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(My);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function LL(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function VL(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(qd))>-1&&(e=e.replace(qd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ic;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Ic;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>cS&&(r=r.splice(0,cS-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function jL(t,e,n){if(e>n)throw new V(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,y,T){return m=m+p,T[y]=m<10?m:m-10,u&&(T[y]===0&&y>=l?T.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Py(t){let e=parseInt(t);if(isNaN(e))throw new V(2305,!1);return e}function gS(t,e){return new V(2100,!1)}var xy=class{createSubscription(e,n,r){return Fe(()=>e.subscribe({next:n,error:r}))}dispose(e){Fe(()=>e.unsubscribe())}},ky=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},UL=new ky,BL=new xy,wc=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(Ft);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(rr(n))return UL;if(Fd(n))return BL;throw gS(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(de(Ji,16))};static \u0275pipe=Od({name:"async",type:t,pure:!1})}return t})();var Fy=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!$L(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=hS(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=HL(n);return pS(u,s,a,r,o)}catch(u){throw gS(t,u.message)}}static \u0275fac=function(r){return new(r||t)(de(vc,16),de(by,16))};static \u0275pipe=Od({name:"currency",type:t,pure:!0})}return t})();function $L(t){return!(t==null||t===""||t!==t)}function HL(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new V(2309,!1);return t}var Hr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vr({type:t});static \u0275inj=Jn({})}return t})();function Ly(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dc=class{};var mS="browser";var Tc=class{_doc;constructor(e){this._doc=e}manager},zd=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(te(Ye))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Kd=new j(""),By=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof zd));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof zd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(te(Kd),te(De))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Vy="ng-app-id";function vS(t){for(let e of t)e.remove()}function _S(t,e){let n=e.createElement("style");return n.textContent=t,n}function zL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Vy}="${e}"],link[${Vy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Vy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Uy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var $y=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,zL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,_S);r?.forEach(i=>this.addUsage(i,this.external,Uy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(vS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])vS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,_S(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Uy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(te(Ye),te(Dd),te(Cd,8),te($i))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hy=/%COMP%/g;var IS="%COMP%",GL=`_nghost-${IS}`,WL=`_ngcontent-${IS}`,KL=!0,QL=new j("",{factory:()=>KL});function YL(t){return WL.replace(Hy,t)}function ZL(t){return GL.replace(Hy,t)}function wS(t,e){return e.map(n=>n.replace(Hy,t))}var qy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Cc(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Wd?i.applyToHost(n):i instanceof bc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case un.Emulated:o=new Wd(u,l,r,this.appId,h,s,a,p);break;case un.ShadowDom:return new Gd(u,n,r,s,a,this.nonce,p,l);case un.ExperimentalIsolatedShadowDom:return new Gd(u,n,r,s,a,this.nonce,p);default:o=new bc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(te(By),te($y),te(Dd),te(QL),te(Ye),te(De),te(Cd),te(Hi,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Cc=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(jy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ES(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ES(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=jy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=jy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Yt().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function ES(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gd=class extends Cc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=wS(r.id,l);for(let p of l){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=p,this.shadowRoot.appendChild(m)}let h=r.getExternalStyles?.();if(h)for(let p of h){let m=Uy(p,i);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},bc=class extends Cc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?wS(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Li.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wd=class extends bc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=YL(l),this.hostAttr=ZL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Qd=class t extends Ec{supportsDOMEvents=!0;static makeCurrent(){Ny(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=JL();return n==null?null:XL(n)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ly(document.cookie,e)}},Sc=null;function JL(){return Sc=Sc||document.head.querySelector("base"),Sc?Sc.getAttribute("href"):null}function XL(t){return new URL(t,document.baseURI).pathname}var eV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),DS=["alt","control","meta","shift"],tV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TS=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=tV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DS.forEach(s=>{if(s!==i){let a=nV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(te(Ye))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function zy(t,e,n){let r=O({rootComponent:t,platformRef:n?.platformRef},rV(e));return nS(r)}function rV(t){return{appProviders:[...cV,...t?.providers??[]],platformProviders:aV}}function iV(){Qd.makeCurrent()}function oV(){return new In}function sV(){return Xm(document),document}var aV=[{provide:$i,useValue:mS},{provide:Td,useValue:iV,multi:!0},{provide:Ye,useFactory:sV}];var cV=[{provide:Ga,useValue:"root"},{provide:In,useFactory:oV},{provide:Kd,useClass:zd,multi:!0},{provide:Kd,useClass:TS,multi:!0},qy,$y,By,{provide:ji,useExisting:qy},{provide:Dc,useClass:eV},[]];var CS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(te(Ye))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",Vc=Symbol("RouteTitle"),Yy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Es(t){return new Yy(t)}function dV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function th(t){return new Promise((e,n)=>{t.pipe(Qn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function hV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}function xn(t,e){let n=t?Zy(t):void 0,r=e?Zy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kS(t[i],e[i]))return!1;return!0}function Zy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function OS(t){return t.length>0?t[t.length-1]:null}function io(t){return Tl(t)?t:rr(t)?Re(Promise.resolve(t)):oe(t)}function FS(t){return Tl(t)?th(t):Promise.resolve(t)}var fV={exact:VS,subset:jS},LS={exact:pV,subset:gV,ignored:()=>!0};function bS(t,e,n){return fV[n.paths](t.root,e.root,n.matrixParams)&&LS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pV(t,e){return xn(t,e)}function VS(t,e,n){if(!to(t.segments,e.segments)||!Jd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VS(t.children[r],e.children[r],n))return!1;return!0}function gV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kS(t[n],e[n]))}function jS(t,e,n){return US(t,e,e.segments,n)}function US(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!to(i,n)||e.hasChildren()||!Jd(i,n,r))}else if(t.segments.length===n.length){if(!to(t.segments,n)||!Jd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!to(t.segments,i)||!Jd(t.segments,i,r)||!t.children[Z]?!1:US(t.children[Z],e,o,r)}}function Jd(t,e,n){return e.every((r,i)=>LS[n](t[i].parameters,r.parameters))}var kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){return vV.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}},eo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Es(this.parameters),this._parameterMap}toString(){return $S(this)}};function mV(t,e){return to(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}function to(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var hh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new no,providedIn:"root"})}return t})(),no=class{parse(e){let n=new Xy(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ac(e.root,!0)}`,r=IV(e.queryParams),i=typeof e.fragment=="string"?`#${_V(e.fragment)}`:"";return`${n}${r}${i}`}},vV=new no;function Xd(t){return t.segments.map(e=>$S(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return Xd(t);if(e){let n=t.children[Z]?Ac(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Ac(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yV(t,(r,i)=>i===Z?[Ac(t.children[Z],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Xd(t)}/${n[0]}`:`${Xd(t)}/(${n.join("//")})`}}function BS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(t){return BS(t).replace(/%3B/gi,";")}function _V(t){return encodeURI(t)}function Jy(t){return BS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(t){return decodeURIComponent(t)}function SS(t){return eh(t.replace(/\+/g,"%20"))}function $S(t){return`${Jy(t.path)}${EV(t.parameters)}`}function EV(t){return Object.entries(t).map(([e,n])=>`;${Jy(e)}=${Jy(n)}`).join("")}function IV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yd(n)}=${Yd(i)}`).join("&"):`${Yd(n)}=${Yd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wV=/^[^\/()?;#]+/;function Gy(t){let e=t.match(wV);return e?e[0]:""}var DV=/^[^\/()?;=#]+/;function TV(t){let e=t.match(DV);return e?e[0]:""}var CV=/^[^=?&#]+/;function bV(t){let e=t.match(CV);return e?e[0]:""}var SV=/^[^&#]+/;function AV(t){let e=t.match(SV);return e?e[0]:""}var Xy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ye(e,n)),r}parseSegment(){let e=Gy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new eo(eh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gy(this.remaining);i&&(r=i,this.capture(r))}e[eh(n)]=eh(r)}parseQueryParam(e){let n=bV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=AV(this.remaining);s&&(r=s,this.capture(r))}let i=SS(n),o=SS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function HS(t){return t.segments.length>0?new ye([],{[Z]:t}):t}function qS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=qS(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return RV(n)}function RV(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new ye(t.segments.concat(e.segments),e.children)}return t}function Is(t){return t instanceof kn}function NV(t,e,n=null,r=null,i=new no){let o=zS(t);return GS(o,e,n,r,i)}function zS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=HS(r);return e??i}function GS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Wy(o,o,o,n,r,i);let s=MV(e);if(s.toRoot())return Wy(o,o,new ye([],{}),n,r,i);let a=PV(s,o,t),u=a.processChildren?Nc(a.segmentGroup,a.index,s.commands):KS(a.segmentGroup,a.index,s.commands);return Wy(o,a.segmentGroup,u,n,r,i)}function nh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xc(t){return typeof t=="object"&&t!=null&&t.outlets}function AS(t,e,n){t||="\u0275";let r=new kn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function Wy(t,e,n,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>AS(l,p,o)):AS(l,h,o);let a;t===e?a=n:a=WS(t,e,n);let u=HS(qS(a));return new kn(u,s,i)}function WS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=WS(o,e,n)}),new ye(t.segments,r)}var rh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nh(r[0]))throw new V(4003,!1);let i=r.find(xc);if(i&&i!==OS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rh(n,e,r)}var ys=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PV(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=nh(t.commands[0])?0:1,i=n.segments.length-1+r;return xV(n,i,t.numberOfDoubleDots)}function xV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function kV(t){return xc(t[0])?t[0].outlets:{[Z]:t}}function KS(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Nc(t,e,n);let r=OV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ye(t.segments.slice(r.pathIndex),t.children),Nc(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?ev(t,e,n):r.match?Nc(t,0,i):ev(t,e,n)}function Nc(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=kV(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Nc(t.children[Z],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function OV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(xc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NS(u,l,s))return o;r+=2}else{if(!NS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ev(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xc(o)){let u=FV(o.outlets);return new ye(r,u)}if(i===0&&nh(n[0])){let u=t.segments[e];r.push(new eo(u.path,RS(n[0]))),i++;continue}let s=xc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nh(a)?(r.push(new eo(s,RS(a))),i+=2):(r.push(new eo(s,{})),i++)}return new ye(r,{})}function FV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ev(new ye([],{}),0,r))}),e}function RS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NS(t,e,n){return t==n.path&&xn(e,n.parameters)}var Mc="imperative",at=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(at||{}),Zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ws=class extends Zt{type=at.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends Zt{urlAfterRedirects;type=at.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Nt||{}),ih=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ih||{}),or=class extends Zt{reason;code;type=at.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends Zt{reason;code;type=at.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},kc=class extends Zt{error;target;type=at.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oh=class extends Zt{urlAfterRedirects;state;type=at.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tv=class extends Zt{urlAfterRedirects;state;type=at.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends Zt{urlAfterRedirects;state;shouldActivate;type=at.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rv=class extends Zt{urlAfterRedirects;state;type=at.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iv=class extends Zt{urlAfterRedirects;state;type=at.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class{route;type=at.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sv=class{route;type=at.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},av=class{snapshot;type=at.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cv=class{snapshot;type=at.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uv=class{snapshot;type=at.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lv=class{snapshot;type=at.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Oc=class{},Ds=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function LV(t){return!(t instanceof Oc)&&!(t instanceof Ds)}function VV(t,e){return t.providers&&!t._injector&&(t._injector=fc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dn(t){return t.outlet||Z}function jV(t,e){let n=t.filter(r=>dn(r)===e);return n.push(...t.filter(r=>dn(r)!==e)),n}function Cs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new jc(this.rootInjector)}},jc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(te(Ke))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=hv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fv(e,this._root).map(n=>n.value)}};function hv(t,e){if(t===e.value)return e;for(let n of e.children){let r=hv(t,n);if(r)return r}return null}function fv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fv(t,n);if(r.length)return r.unshift(e),r}return[]}var Ut=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ah=class extends sh{snapshot;constructor(e,n){super(e),this.snapshot=n,Ev(this,e)}toString(){return this.snapshot.toString()}};function QS(t){let e=UV(t),n=new it([new eo("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new ro(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new ah(new Ut(a,[]),e)}function UV(t){let e={},n={},r={},o=new vs([],e,r,"",n,Z,t,null,{});return new uh("",new Ut(o,[]))}var ro=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ee(l=>l[Vc]))??oe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>Es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>Es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ch(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&ZS(i)&&(r.resolve[Vc]=i.title),r}var vs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},uh=class extends sh{url;constructor(e,n){super(n),this.url=e,Ev(this,n)}toString(){return YS(this._root)}};function Ev(t,e){e.value._routerState=t,e.children.forEach(n=>Ev(t,n))}function YS(t){let e=t.children.length>0?` { ${t.children.map(YS).join(", ")} } `:"";return`${t.value}${e}`}function Ky(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xn(e.params,n.params)||t.paramsSubject.next(n.params),hV(e.url,n.url)||t.urlSubject.next(n.url),xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pv(t,e){let n=xn(t.params,e.params)&&mV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pv(t.parent,e.parent))}function ZS(t){return typeof t.title=="string"||t.title===null}var BV=new j(""),JS=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ve;deactivateEvents=new Ve;attachEvents=new Ve;detachEvents=new Ve;routerOutletData=tS();parentContexts=M(jc);location=M(hc);changeDetector=M(Ji);inputBinder=M(fh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new gv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[tr]})}return t})(),gv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ro?this.route:e===jc?this.childContexts:e===BV?this.outletData:this.parent.get(e,n)}},fh=new j("");var XS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=nr({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ur(0,"router-outlet")},dependencies:[JS],encapsulation:2})}return t})();function Iv(t){let e=t.children&&t.children.map(Iv),n=e?ee(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=XS),n}function $V(t,e,n){let r=Fc(t,e._root,n?n._root:void 0);return new ah(r,e)}function Fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=HV(t,e,n);return new Ut(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(t,a)),s}}let r=qV(e.value),i=e.children.map(o=>Fc(t,o));return new Ut(r,i)}}function HV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fc(t,r,i);return Fc(t,r)})}function qV(t){return new ro(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var Lc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eA="ngNavigationCancelingError";function lh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tA(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eA]=!0,n.cancellationCode=e,n}function zV(t){return nA(t)&&Is(t.url)}function nA(t){return!!t&&t[eA]}var GV=(t,e,n,r)=>Ee(i=>(new mv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ky(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ky(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ky(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{component;route;constructor(e,n){this.component=e,this.route=n}};function WV(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function KV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function bs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!bg(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return t.children.forEach(s=>{QV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,n.getContext(s),i)),i}function QV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=YV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _s(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new dh(r)),o.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function YV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!to(t.url,e.url);case"pathParamsOrQueryParamsChange":return!to(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pv(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!pv(t,e)}}function Pc(t,e,n){let r=ms(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),n):Pc(s,null,n):Pc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _s(e.outlet.component,i)):n.canDeactivateChecks.push(new _s(null,i)):n.canDeactivateChecks.push(new _s(null,i))}function Uc(t){return typeof t=="function"}function ZV(t){return typeof t=="boolean"}function JV(t){return t&&Uc(t.canLoad)}function XV(t){return t&&Uc(t.canActivate)}function ej(t){return t&&Uc(t.canActivateChild)}function tj(t){return t&&Uc(t.canDeactivate)}function nj(t){return t&&Uc(t.canMatch)}function rA(t){return t instanceof vi||t?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function Ts(){return _n(t=>rg(t.map(e=>e.pipe(Kn(1),Nl(Zd)))).pipe(Ee(e=>{for(let n of e)if(n!==!0){if(n===Zd)return Zd;if(n===!1||rj(n))return n}return!0}),nn(e=>e!==Zd),Kn(1)))}function rj(t){return Is(t)||t instanceof Lc}function iA(t){return t.aborted?oe(void 0).pipe(Kn(1)):new X(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function oA(t){return La(iA(t))}function ij(t,e){return wt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?oe(ee(O({},n),{guardsResult:!0})):oj(s,r,i,t).pipe(wt(a=>a&&ZV(a)?sj(r,o,t,e):oe(a)),Ee(a=>ee(O({},n),{guardsResult:a})))})}function oj(t,e,n,r){return Re(t).pipe(wt(i=>dj(i.component,i.route,n,e,r)),Qn(i=>i!==!0,!0))}function sj(t,e,n,r){return Re(e).pipe(Al(i=>qo(cj(i.route.parent,r),aj(i.route,r),lj(t,i.path,n),uj(t,i.route,n))),Qn(i=>i!==!0,!0))}function aj(t,e){return t!==null&&e&&e(new uv(t)),oe(!0)}function cj(t,e){return t!==null&&e&&e(new av(t)),oe(!0)}function uj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(o=>Oa(()=>{let s=Cs(e)??n,a=bs(o,s),u=XV(a)?a.canActivate(e,t):Qe(s,()=>a(e,t));return io(u).pipe(Qn())}));return oe(i).pipe(Ts())}function lj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>KV(s)).filter(s=>s!==null).map(s=>Oa(()=>{let a=s.guards.map(u=>{let l=Cs(s.node)??n,h=bs(u,l),p=ej(h)?h.canActivateChild(r,t):Qe(l,()=>h(r,t));return io(p).pipe(Qn())});return oe(a).pipe(Ts())}));return oe(o).pipe(Ts())}function dj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=Cs(e)??i,l=bs(a,u),h=tj(l)?l.canDeactivate(t,e,n,r):Qe(u,()=>l(t,e,n,r));return io(h).pipe(Qn())});return oe(s).pipe(Ts())}function hj(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return oe(!0);let s=o.map(a=>{let u=bs(a,t),l=JV(u)?u.canLoad(e,n):Qe(t,()=>u(e,n)),h=io(l);return i?h.pipe(oA(i)):h});return oe(s).pipe(Ts(),sA(r))}function sA(t){return al(Dt(e=>{if(typeof e!="boolean")throw lh(t,e)}),Ee(e=>e===!0))}function fj(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=bs(a,t),l=nj(u)?u.canMatch(e,n):Qe(t,()=>u(e,n)),h=io(l);return i?h.pipe(oA(i)):h});return oe(s).pipe(Ts(),sA(r))}var Xi=class aA extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,aA.prototype)}},yv=class cA extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,cA.prototype)}};function pj(t){throw new V(4e3,!1)}function gj(t){throw tA(!1,Nt.GuardRejected)}var mj=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw pj(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,n,r,i,o){let s=await yj(n,i,o);if(s instanceof kn)throw new yv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new yv(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new kn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function yj(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return th(io(Qe(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vj(t,e,n,r,i,o){let s=uA(t,e,n);return s.matched?(r=VV(e,r),fj(r,e,n,i,o).pipe(Ee(a=>a===!0?s:O({},vv)))):oe(s)}function uA(t,e,n){if(e.path==="**")return _j(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},vv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dV)(n,t,e);if(!i)return O({},vv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _j(t){return{matched:!0,parameters:t.length>0?OS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MS(t,e,n,r){return n.length>0&&wj(t,n,r)?{segmentGroup:new ye(e,Ij(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Dj(t,n,r)?{segmentGroup:new ye(t.segments,Ej(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function Ej(t,e,n,r){let i={};for(let o of n)if(ph(t,e,o)&&!r[dn(o)]){let s=new ye([],{});i[dn(o)]=s}return O(O({},r),i)}function Ij(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&dn(r)!==Z){let i=new ye([],{});n[dn(r)]=i}return n}function wj(t,e,n){return n.some(r=>ph(t,e,r)&&dn(r)!==Z)}function Dj(t,e,n){return n.some(r=>ph(t,e,r))}function ph(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Tj(t,e,n){return e.length===0&&!t.children[n]}var Cj=class{};async function bj(t,e,n,r,i,o,s="emptyOnly",a){return new Aj(t,e,n,r,i,s,o,a).recognize()}var Sj=31,Aj=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new mj(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}async recognize(){let e=MS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Ut(r,n),o=new uh("",i),s=NV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new vs([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,n),rootSnapshot:n}}catch(r){if(r instanceof yv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xi?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Ut?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=jV(n,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=lA(s);return Rj(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof Xi||rA(l))continue;throw l}if(Tj(r,i,o))return new Cj;throw new Xi(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(dn(r)!==s&&(s===Z||!ph(i,o,r)))throw new Xi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new Xi(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=uA(n,i,o);if(!u)throw new Xi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sj&&(this.allowRedirects=!1));let y=new vs(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,PS(i),dn(i),i.component??i._loadedComponent??null,i,xS(i)),T=ch(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let R=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),A=await this.applyRedirects.lineralizeSegments(i,R);return this.processSegment(e,r,n,A.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await th(vj(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Xi(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:m}=a,y=new vs(p,h,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,PS(r),dn(r),r.component??r._loadedComponent??null,r,xS(r)),T=ch(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let{segmentGroup:R,slicedSegments:A}=MS(n,p,m,u);if(A.length===0&&R.hasChildren()){let q=await this.processChildren(l,u,R,y);return new Ut(y,q)}if(u.length===0&&A.length===0)return new Ut(y,[]);let x=dn(r)===o,U=await this.processSegment(l,u,R,A,x?Z:o,!0,y);return new Ut(y,U instanceof Ut?[U]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await th(hj(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw gj(n)}return{routes:[],injector:e}}};function Rj(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function Nj(t){let e=t.value.routeConfig;return e&&e.path===""}function lA(t){let e=[],n=new Set;for(let r of t){if(!Nj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lA(r.children);e.push(new Ut(r.value,i))}return e.filter(r=>!n.has(r))}function PS(t){return t.data||{}}function xS(t){return t.resolve||{}}var Mj=new j("",{factory:()=>bj});function Pj(t,e,n,r,i,o,s){let a=t.get(Mj);return wt(u=>oe(u).pipe(_n(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),Ee(({state:l,tree:h})=>ee(O({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function xj(t,e){return wt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return oe(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of dA(u))s.add(l);let a=0;return Re(s).pipe(Al(u=>o.has(u)?kj(u,r,t,e):(u.data=ch(u,u.parent,t).resolve,oe(void 0))),Dt(()=>a++),Rl(1),wt(u=>a===s.size?oe(n):bt))})}function dA(t){let e=t.children.map(n=>dA(n)).flat();return[t,...e]}function kj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ZS(i)&&(o[Vc]=i.title),Oa(()=>(t.data=ch(t,t.parent,n).resolve,Oj(o,t,e,r).pipe(Ee(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function Oj(t,e,n,r){let i=Zy(t);if(i.length===0)return oe({});let o={};return Re(i).pipe(wt(s=>Fj(t[s],e,n,r).pipe(Qn(),Dt(a=>{if(a instanceof Lc)throw lh(new no,a);o[s]=a}))),Rl(1),Ee(()=>o),Fa(s=>rA(s)?bt:ng(s)))}function Fj(t,e,n,r){let i=Cs(e)??r,o=bs(t,i),s=o.resolve?o.resolve(e,n):Qe(i,()=>o(e,n));return io(s)}function Qy(t){return _n(e=>{let n=t(e);return n?Re(n).pipe(Ee(()=>e)):oe(e)})}var hA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Vc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(Lj),providedIn:"root"})}return t})(),Lj=(()=>{class t extends hA{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(te(CS))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gh=new j("",{factory:()=>({})}),mh=new j(""),fA=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Cy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await FS(Qe(n,()=>r.loadComponent())),s=await gA(pA(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Vj(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function Vj(t,e,n,r){let i=await FS(Qe(n,()=>t.loadChildren())),o=await gA(pA(i)),s;o instanceof kd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,u=a.get(mh,[],{optional:!0,self:!0}).flat()),{routes:u.map(Iv),injector:a}}function jj(t){return t&&typeof t=="object"&&"default"in t}function pA(t){return jj(t)?t.default:t}async function gA(t){return t}var wv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(Uj),providedIn:"root"})}return t})(),Uj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mA=new j("");var Bj=()=>{},yA=new j(""),vA=(()=>{class t{currentNavigation=Qt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Qt(null);events=new Je;transitionAbortWithErrorSubject=new Je;configLoader=M(fA);environmentInjector=M(Ke);destroyRef=M(an);urlSerializer=M(hh);rootContexts=M(jc);location=M(ps);inputBindingEnabled=M(fh,{optional:!0})!==null;titleStrategy=M(hA);options=M(gh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(wv);createViewTransition=M(mA,{optional:!0});navigationErrorHandler=M(yA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>oe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ov(i)),r=i=>this.events.next(new sv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Fe(()=>{this.transitions?.next(ee(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new it(null),this.transitions.pipe(nn(r=>r!==null),_n(r=>{let i=!1,o=new AbortController;return oe(r).pipe(_n(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),bt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ee(O({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new zr(s.id,this.urlSerializer.serialize(s.rawUrl),"",ih.IgnoredSameUrlNavigation)),s.resolve(!1),bt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return oe(s).pipe(_n(h=>(this.events.next(new ws(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?bt:Promise.resolve(h))),Pj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Dt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new oh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:y,extras:T}=s,R=new ws(h,this.urlSerializer.serialize(p),m,y);this.events.next(R);let A=QS(this.rootComponentType).snapshot;return this.currentTransition=r=ee(O({},s),{targetSnapshot:A,urlAfterRedirects:p,extras:ee(O({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(x=>(x.finalUrl=p,x)),oe(r)}else return this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ih.IgnoredByUrlHandlingStrategy)),s.resolve(!1),bt}),Dt(s=>{let a=new tv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ee(s=>(this.currentTransition=r=ee(O({},s),{guards:WV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),ij(this.environmentInjector,s=>this.events.next(s)),Dt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw lh(this.urlSerializer,s.guardsResult);let a=new nv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),nn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Nt.GuardRejected),!1)),Qy(s=>{if(s.guards.canActivateChecks.length!==0)return oe(s).pipe(Dt(a=>{let u=new rv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),_n(a=>{let u=!1;return oe(a).pipe(xj(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Nt.NoDataFromResolver)}}))}),Dt(a=>{let u=new iv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Qy(s=>{let a=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Cs(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...a(p));return h},u=a(s.targetSnapshot.root);return u.length===0?oe(s):Re(Promise.all(u).then(()=>s))}),Qy(()=>this.afterPreactivation()),_n(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Re(u).pipe(Ee(()=>r)):oe(r)}),Ee(s=>{let a=$V(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(O({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),Dt(()=>{this.events.next(new Oc)}),GV(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Kn(1),La(iA(o.signal).pipe(nn(()=>!i&&!r.targetRouterState),Dt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Nt.Aborted)}))),Dt({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=Bj,a)),this.lastSuccessfulNavigation.set(Fe(this.currentNavigation)),this.events.next(new qr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),La(this.transitionAbortWithErrorSubject.pipe(Dt(s=>{throw s}))),sg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Fa(s=>{if(this.destroyed)return r.resolve(!1),bt;if(i=!0,nA(s))this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),zV(s)?this.events.next(new Ds(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new kc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Qe(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Lc){let{message:l,cancellationCode:h}=lh(this.urlSerializer,u);this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Ds(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return bt}))}))}cancelNavigationTransition(n,r,i){let o=new or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Fe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $j(t){return t!==Mc}var Hj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(qj),providedIn:"root"})}return t})(),_v=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},qj=(()=>{class t extends _v{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dv=(()=>{class t{urlSerializer=M(hh);options=M(gh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(ps);urlHandlingStrategy=M(wv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=QS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(_A),providedIn:"root"})}return t})(),_A=(()=>{class t extends Dv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ws?this.updateStateMemento():n instanceof zr?this.commitTransition(r):n instanceof oh?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Oc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof or&&n.code!==Nt.SupersededByNewNavigation&&n.code!==Nt.Redirect?this.restoreHistory(r):n instanceof kc?this.restoreHistory(r,!0):n instanceof qr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EA(t,e){t.events.pipe(nn(n=>n instanceof qr||n instanceof or||n instanceof kc||n instanceof zr),Ee(n=>n instanceof qr||n instanceof zr?0:(n instanceof or?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?2:1),nn(n=>n!==2),Kn(1)).subscribe(()=>{e()})}var zj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tv=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(vy);stateManager=M(Dv);options=M(gh,{optional:!0})||{};pendingTasks=M(er);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(vA);urlSerializer=M(hh);location=M(ps);urlHandlingStrategy=M(wv);injector=M(Ke);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(Hj);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(mh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(fh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new We;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Fe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof or&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qr)this.navigated=!0;else if(r instanceof Ds){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$j(i.source)},s);this.scheduleNavigation(a,Mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Ft)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Fe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Iv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=zS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return GS(p,n,h,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Is(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return Wj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Wo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},zj):r===!1?i=O({},Gj):i=r,Is(n))return bS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return bS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return EA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}var Kj=new j("");function Cv(t,...e){return xt([{provide:mh,multi:!0,useValue:t},[],{provide:ro,useFactory:Qj},{provide:Ld,multi:!0,useFactory:Yj},e.map(n=>n.\u0275providers)])}function Qj(){return M(Tv).routerState.root}function Yj(){let t=M(je);return e=>{let n=t.get(jr);if(e!==n.components[0])return;let r=t.get(Tv),i=t.get(Zj);t.get(Jj)===1&&r.initialNavigation(),t.get(Xj,null,{optional:!0})?.setUpPreloading(),t.get(Kj,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Zj=new j("",{factory:()=>new Je}),Jj=new j("",{factory:()=>1});var Xj=new j("");var IA=[];var wA=()=>{};var CA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Sv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Sv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},n2=function(t){let e=CA(t);return yh.encodeByteArray(e,!0)},$c=function(t){return n2(t).replace(/\./g,"")},vh=function(t){try{return yh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var r2=()=>Rv().__FIREBASE_DEFAULTS__,i2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vh(t[1]);return e&&JSON.parse(e)},_h=()=>{try{return wA()||r2()||i2()||o2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nv=t=>{var e,n;return(n=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bA=t=>{let e=Nv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mv=()=>{var t;return(t=_h())===null||t===void 0?void 0:t.config},Pv=t=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${t}`]};var oo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Gr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eh(t){return(await fetch(t,{credentials:"include"})).ok}function SA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$c(JSON.stringify(n)),$c(JSON.stringify(s)),""].join(".")}var Bc={};function s2(){let t={prod:[],emulator:[]};for(let e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function a2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var DA=!1;function Ih(t,e){if(typeof window>"u"||typeof document>"u"||!Gr(window.location.host)||Bc[t]===e||Bc[t]||DA)return;Bc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=s2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{DA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=a2(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),x=n("preprendIcon"),U=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let q=m.element;a(q),h(A,R);let he=l();u(U,x),q.append(U,T,A,he),document.body.appendChild(q)}o?(T.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function c2(){var t;let e=(t=_h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xA(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hc(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var u2="FirebaseError",Bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}},hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?l2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,a,r)}};function l2(t,e){return t.replace(d2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var d2=/\{\$([^}]+)}/g;function OA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function On(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(TA(o)&&TA(s)){if(!On(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function TA(t){return t!==null&&typeof t=="object"}function Ss(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FA(t,e){let n=new Av(t,e);return n.subscribe.bind(n)}var Av=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bv),i.error===void 0&&(i.error=bv),i.complete===void 0&&(i.complete=bv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function h2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bv(){}var Bne=14400*1e3;function ct(t){return t&&t._delegate?t._delegate:t}var Ct=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var so="[DEFAULT]";var xv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new oo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p2(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f2(t){return t===so?void 0:t}function p2(t){return t.instantiationMode==="EAGER"}var wh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var g2=[],ie=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ie||{}),m2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},y2=ie.INFO,v2={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},_2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=v2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fn=class{constructor(e){this.name=e,this._logLevel=y2,this._logHandler=_2,this._userLogHandler=null,g2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var E2=(t,e)=>e.some(n=>t instanceof n),LA,VA;function I2(){return LA||(LA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w2(){return VA||(VA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jA=new WeakMap,Ov=new WeakMap,UA=new WeakMap,kv=new WeakMap,Lv=new WeakMap;function D2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ln(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jA.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function T2(t){if(Ov.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ov.set(t,e)}var Fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BA(t){Fv=t(Fv)}function C2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Dh(this),e,...n);return UA.set(r,e.sort?e.sort():[e]),Ln(r)}:w2().includes(t)?function(...e){return t.apply(Dh(this),e),Ln(jA.get(this))}:function(...e){return Ln(t.apply(Dh(this),e))}}function b2(t){return typeof t=="function"?C2(t):(t instanceof IDBTransaction&&T2(t),E2(t,I2())?new Proxy(t,Fv):t)}function Ln(t){if(t instanceof IDBRequest)return D2(t);if(kv.has(t))return kv.get(t);let e=b2(t);return e!==t&&(kv.set(t,e),Lv.set(e,t)),e}var Dh=t=>Lv.get(t);function HA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ln(s.result),u.oldVersion,u.newVersion,Ln(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var S2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Vv=new Map;function $A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=A2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S2.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Vv.set(e,o),o}BA(t=>ee(O({},t),{get:(e,n,r)=>$A(e,n)||t.get(e,n,r),has:(e,n)=>!!$A(e,n)||t.has(e,n)}));var Uv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function R2(t){let e=t.getComponent();return e?.type==="VERSION"}var Bv="@firebase/app",qA="0.13.2";var sr=new Fn("@firebase/app"),N2="@firebase/app-compat",M2="@firebase/analytics-compat",P2="@firebase/analytics",x2="@firebase/app-check-compat",k2="@firebase/app-check",O2="@firebase/auth",F2="@firebase/auth-compat",L2="@firebase/database",V2="@firebase/data-connect",j2="@firebase/database-compat",U2="@firebase/functions",B2="@firebase/functions-compat",$2="@firebase/installations",H2="@firebase/installations-compat",q2="@firebase/messaging",z2="@firebase/messaging-compat",G2="@firebase/performance",W2="@firebase/performance-compat",K2="@firebase/remote-config",Q2="@firebase/remote-config-compat",Y2="@firebase/storage",Z2="@firebase/storage-compat",J2="@firebase/firestore",X2="@firebase/ai",eU="@firebase/firestore-compat",tU="firebase",nU="11.10.0";var $v="[DEFAULT]",rU={[Bv]:"fire-core",[N2]:"fire-core-compat",[P2]:"fire-analytics",[M2]:"fire-analytics-compat",[k2]:"fire-app-check",[x2]:"fire-app-check-compat",[O2]:"fire-auth",[F2]:"fire-auth-compat",[L2]:"fire-rtdb",[V2]:"fire-data-connect",[j2]:"fire-rtdb-compat",[U2]:"fire-fn",[B2]:"fire-fn-compat",[$2]:"fire-iid",[H2]:"fire-iid-compat",[q2]:"fire-fcm",[z2]:"fire-fcm-compat",[G2]:"fire-perf",[W2]:"fire-perf-compat",[K2]:"fire-rc",[Q2]:"fire-rc-compat",[Y2]:"fire-gcs",[Z2]:"fire-gcs-compat",[J2]:"fire-fst",[eU]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[tU]:"fire-js-all"};var qc=new Map,iU=new Map,Hv=new Map;function zA(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){let e=t.name;if(Hv.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(let n of qc.values())zA(n,t);for(let n of iU.values())zA(n,t);return!0}function As(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}var oU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new hn("app","Firebase",oU);var qv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};var Kr=nU;function Wv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$v,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=Mv()),!n)throw Wr.create("no-options");let o=qc.get(i);if(o){if(On(n,o.options)&&On(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}let s=new wh(i);for(let u of Hv.values())s.addComponent(u);let a=new qv(n,r,s);return qc.set(i,a),a}function ao(t=$v){let e=qc.get(t);if(!e&&t===$v&&Mv())return Wv();if(!e)throw Wr.create("no-app",{appName:t});return e}function Th(){return Array.from(qc.values())}function Pe(t,e,n){var r;let i=(r=rU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}fn(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sU="firebase-heartbeat-database",aU=1,zc="firebase-heartbeat-store",jv=null;function QA(){return jv||(jv=HA(sU,aU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),jv}async function cU(t){try{let n=(await QA()).transaction(zc),r=await n.objectStore(zc).get(YA(t));return await n.done,r}catch(e){if(e instanceof Bt)sr.warn(e.message);else{let n=Wr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function GA(t,e){try{let r=(await QA()).transaction(zc,"readwrite");await r.objectStore(zc).put(e,YA(t)),await r.done}catch(n){if(n instanceof Bt)sr.warn(n.message);else{let r=Wr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(r.message)}}}function YA(t){return`${t.name}!${t.options.appId}`}var uU=1024,lU=30,zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Gv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lU){let s=hU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WA(),{heartbeatsToSend:r,unsentEntries:i}=dU(this._heartbeatsCache.heartbeats),o=$c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sr.warn(n),""}}};function WA(){return new Date().toISOString().substring(0,10)}function dU(t,e=uU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),KA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Gv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hc()?kA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await cU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return GA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return GA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function KA(t){return $c(JSON.stringify({version:2,heartbeats:t})).length}function hU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function fU(t){fn(new Ct("platform-logger",e=>new Uv(e),"PRIVATE")),fn(new Ct("heartbeat",e=>new zv(e),"PRIVATE")),Pe(Bv,qA,t),Pe(Bv,qA,"esm2017"),Pe("fire-js","")}fU("");var pU="firebase",gU="11.10.0";Pe(pU,gU,"app");function ZA(t){t===void 0&&(t=M(je));let e=t.get(ts);return n=>new X(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qr=new Ei("ANGULARFIRE2_VERSION");function Gc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ns=(t,e)=>{let n=e?[e]:Th(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rs=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Rs||{}),JA=Ry()&&typeof Zone<"u"?Rs.WARN:Rs.SILENT;var Ch=class{zone;delegate;constructor(e,n=tg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Yr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=M(De);this.outsideAngular=n.runOutsideAngular(()=>new Ch(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ch(typeof Zone>"u"?void 0:Zone.current,eg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XA=!1;function mU(t,e){!XA&&(JA>Rs.SILENT||Ry())&&(XA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),JA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function yU(t){let e=M(De,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function co(t){let e=M(De,{optional:!0});return e?e.run(()=>t()):t()}var vU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Qe(n,()=>co(()=>t.apply(void 0,r)))),gt=(t,e,n)=>(n||=e?Rs.WARN:Rs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(Yr),s=M(ts),a=M(Ke)}catch{return mU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=co(()=>s.add())),i[l]=vU(i[l],r,a));let u=yU(()=>t.apply(this,i));return e?u instanceof X?u.pipe(br(o.outsideAngular),Cr(o.insideAngular),ZA(a)):u instanceof Promise?co(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Qe(a,()=>co(()=>h(m))),m=>Qe(a,()=>co(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:co(()=>u):u instanceof X?u.pipe(br(o.outsideAngular),Cr(o.insideAngular)):co(()=>u)});var ar=class{constructor(e){return e}},uo=class{constructor(){return Th()}};function _U(t){return t&&t.length===1?t[0]:new ar(ao())}var Kv=new j("angularfire2._apps"),EU={provide:ar,useFactory:_U,deps:[[new Lt,Kv]]},IU={provide:uo,deps:[[new Lt,Kv]]};function wU(t){return(e,n)=>{let r=n.get($i);Pe("angularfire",Qr.full,"core"),Pe("angularfire",Qr.full,"app"),Pe("angular",Dg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ar(i)}}function e0(t,...e){return xt([EU,IU,{provide:Kv,useFactory:wU(t),multi:!0,deps:[De,je,Yr,...e]}])}var t0=gt(Wv,!0);var DU=new Map,TU={activated:!1,tokenObservers:[]},CU={initialized:!1,enabled:!1};function pn(t){return DU.get(t)||Object.assign({},TU)}function o0(){return CU}var bU="https://content-firebaseappcheck.googleapis.com/v1";var SU="exchangeDebugToken",n0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Bre=1440*60*1e3;var Zv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new oo,this.pending.promise.catch(n=>{}),await AU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new oo,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function AU(t){return new Promise(e=>{setTimeout(e,t)})}var RU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Zr=new hn("appCheck","AppCheck",RU);function s0(t){if(!pn(t).activated)throw Zr.create("use-before-activation",{appName:t.name})}async function a0({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Zr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Zr.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw Zr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function c0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${bU}/projects/${n}/apps/${r}:${SU}?key=${i}`,body:{debug_token:e}}}var NU="firebase-app-check-database",MU=1,Jv="firebase-app-check-store";var bh=null;function PU(){return bh||(bh=new Promise((t,e)=>{try{let n=indexedDB.open(NU,MU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Jv,{keyPath:"compositeKey"})}}}catch(n){e(Zr.create("storage-open",{originalErrorMessage:n?.message}))}}),bh)}function xU(t,e){return kU(OU(t),e)}async function kU(t,e){let r=(await PU()).transaction(Jv,"readwrite"),o=r.objectStore(Jv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Zr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function OU(t){return`${t.options.appId}-${t.name}`}var Wc=new Fn("@firebase/app-check");function Qv(t,e){return Hc()?xU(t,e).catch(n=>{Wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function u0(){return o0().enabled}async function l0(){let t=o0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var FU={error:"UNKNOWN_ERROR"};function LU(t){return yh.encodeString(JSON.stringify(t),!1)}async function Xv(t,e=!1,n=!1){let r=t.app;s0(r);let i=pn(r),o=i.token,s;if(o&&!Kc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Kc(l)?o=l:await Qv(r,void 0))}if(!e&&o&&Kc(o))return{token:o.token};let a=!1;if(u0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=a0(c0(r,await l0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await Qv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wc.warn(l.message):n&&Wc.error(l),Yv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wc.warn(l.message):n&&Wc.error(l),s=l}let u;return o?s?Kc(o)?u={token:o.token,internalError:s}:u=Yv(s):(u={token:o.token},i.token=o,await Qv(r,o)):u=Yv(s),a&&BU(r,u),u}async function VU(t){let e=t.app;s0(e);let{provider:n}=pn(e);if(u0()){let r=await l0(),{token:i}=await a0(c0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function jU(t,e,n,r){let{app:i}=t,o=pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Kc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),r0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>r0(t))}function d0(t,e){let n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function r0(t){let{app:e}=t,n=pn(e),r=n.tokenRefresher;r||(r=UU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function UU(t){let{app:e}=t;return new Zv(async()=>{let n=pn(e),r;if(n.token?r=await Xv(t,!0):r=await Xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},n0.RETRIAL_MIN_WAIT,n0.RETRIAL_MAX_WAIT)}function BU(t,e){let n=pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Kc(t){return t.expireTimeMillis-Date.now()>0}function Yv(t){return{token:LU(FU),error:t}}var e_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pn(this.app);for(let n of e)d0(this.app,n.next);return Promise.resolve()}};function $U(t,e){return new e_(t,e)}function HU(t){return{getToken:e=>Xv(t,e),getLimitedUseToken:()=>VU(t),addTokenListener:e=>jU(t,"INTERNAL",e),removeTokenListener:e=>d0(t.app,e)}}var qU="@firebase/app-check",zU="0.10.1";var GU="app-check",i0="app-check-internal";function WU(){fn(new Ct(GU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $U(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(i0).initialize()})),fn(new Ct(i0,t=>{let e=t.getProvider("app-check").getImmediate();return HU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(qU,zU)}WU();var KU="app-check";var Ms=class{constructor(){return Ns(KU)}};var QU=["localhost","0.0.0.0","127.0.0.1"],Xre=typeof window<"u"&&QU.includes(window.location.hostname);function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var S0=b0,A0=new hn("auth","Firebase",b0());var Ph=new Fn("@firebase/auth");function YU(t,...e){Ph.logLevel<=ie.WARN&&Ph.warn(`Auth (${Kr}): ${t}`,...e)}function Ah(t,...e){Ph.logLevel<=ie.ERROR&&Ph.error(`Auth (${Kr}): ${t}`,...e)}function jn(t,...e){throw v_(t,...e)}function gn(t,...e){return v_(t,...e)}function y_(t,e,n){let r=Object.assign(Object.assign({},S0()),{[e]:n});return new hn("auth","Firebase",r).create(e,{appName:t.name})}function lo(t){return y_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZU(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jn(t,"argument-error"),y_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A0.create(t,...e)}function W(t,e,...n){if(!t)throw v_(e,...n)}function cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ah(e),new Error(e)}function lr(t,e){t||cr(e)}function r_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JU(){return h0()==="http:"||h0()==="https:"}function h0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function XU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JU()||NA()||"connection"in navigator)?navigator.onLine:!0}function eB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ho=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=AA()||MA()}get(){return XU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function __(t,e){lr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rB=new ho(3e4,6e4);function E_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,i={}){return R0(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Ss(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return RA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Gr(t.emulatorConfig.host)&&(l.credentials="include"),xh.fetch()(await N0(t,t.config.apiHost,n,a),l)})}async function R0(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},tB),e);try{let i=new i_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Sh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Sh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw y_(t,h,l);jn(t,h)}}catch(i){if(i instanceof Bt)throw i;jn(t,"network-request-failed",{message:String(i)})}}async function iB(t,e,n,r,i={}){let o=await xs(t,e,n,r,i);return"mfaPendingCredential"in o&&jn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function N0(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?__(t.config,i):`${t.config.apiScheme}://${i}`;return nB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var i_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),rB.get())})}};function Sh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gn(t,e,r);return i.customData._tokenResponse=n,i}async function oB(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function kh(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}function Qc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I_(t,e=!1){let n=ct(t),r=await n.getIdToken(e),i=w_(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qc(t_(i.auth_time)),issuedAtTime:Qc(t_(i.iat)),expirationTime:Qc(t_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function t_(t){return Number(t)*1e3}function w_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{let i=vh(n);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f0(t){let e=w_(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bt&&sB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var o_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Jc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Oh(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Zc(t,kh(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?M0(o.providerUserInfo):[],a=aB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function D_(t){let e=ct(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function M0(t){return t.map(e=>{var{providerId:n}=e,r=fl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function cB(t,e){let n=await R0(t,{},async()=>{let r=Ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await N0(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gr(t.emulatorConfig.host)&&(u.credentials="include"),xh.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uB(t,e){return xs(t,"POST","/v2/accounts:revokeToken",E_(t,e))}var Yc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=f0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await cB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cr("not implemented")}};function Jr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=fl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I_(this,e)}reload(){return D_(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(lo(this.auth));let e=await this.getIdToken();return await Zc(this,oB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:he,isAnonymous:Ze,providerData:_e,stsTokenManager:w}=n;W(q&&w,e,"internal-error");let v=Yc.fromJSON(this.name,w);W(typeof q=="string",e,"internal-error"),Jr(p,e.name),Jr(m,e.name),W(typeof he=="boolean",e,"internal-error"),W(typeof Ze=="boolean",e,"internal-error"),Jr(y,e.name),Jr(T,e.name),Jr(R,e.name),Jr(A,e.name),Jr(x,e.name),Jr(U,e.name);let E=new t({uid:q,auth:e,email:m,emailVerified:he,displayName:p,isAnonymous:Ze,photoURL:T,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:x,lastLoginAt:U});return _e&&Array.isArray(_e)&&(E.providerData=_e.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new Yc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?M0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var p0=new Map;function ur(t){lr(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}var lB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),s_=lB;function Rh(t,e,n){return`firebase:${t}:${e}:${n}`}var Fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ur(s_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||ur(s_),s=Rh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await kh(e,{idToken:h}).catch(()=>{});if(!m)break;p=await Xr._fromGetAccountInfoResponse(e,m,h)}else p=Xr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function g0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L0(e))return"Blackberry";if(V0(e))return"Webos";if(x0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(F0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function P0(t=et()){return/firefox\//i.test(t)}function x0(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(t=et()){return/crios\//i.test(t)}function O0(t=et()){return/iemobile/i.test(t)}function F0(t=et()){return/android/i.test(t)}function L0(t=et()){return/blackberry/i.test(t)}function V0(t=et()){return/webos/i.test(t)}function T_(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dB(t=et()){var e;return T_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hB(){return PA()&&document.documentMode===10}function j0(t=et()){return T_(t)||F0(t)||V0(t)||L0(t)||/windows phone/i.test(t)||O0(t)}function U0(t,e=[]){let n;switch(t){case"Browser":n=g0(et());break;case"Worker":n=`${g0(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kr}/${r}`}var a_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function fB(t,e={}){return xs(t,"GET","/v2/passwordPolicy",E_(t,e))}var pB=6,c_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:pB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var u_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lh(this),this.idTokenSubscription=new Lh(this),this.beforeStateQueue=new a_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Fh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await kh(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($t(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(lo(this));let n=e?ct(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await fB(this),n=new c_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Fh.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&YU(`Error while retrieving App Check token: ${n.error}`),n?.token}};function zh(t){return ct(t)}var Lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var C_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gB(t){C_=t}function mB(t){return C_.loadJS(t)}function yB(){return C_.gapiScript}function B0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function b_(t,e){let n=As(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(On(o,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function vB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function S_(t,e,n){let r=zh(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=$0(e),{host:s,port:a}=_B(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(On(l,r.config.emulator)&&On(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gr(s)?(Eh(`${o}//${s}${u}`),Ih("Auth",!0)):i||EB()}function $0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _B(t){let e=$0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:m0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:m0(s)}}}function m0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function EB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}};async function Ps(t,e){return iB(t,"POST","/v1/accounts:signInWithIdp",E_(t,e))}var IB="http://localhost",Vh=class t extends Xc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=fl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Ps(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ps(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ps(e,n)}buildRequest(){let e={requestUri:IB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ss(n)}return e}};var eu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jh=class extends eu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var A_=(()=>{class t extends jh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Vh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var tu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Xr._fromIdTokenResponse(e,r,i),s=y0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=y0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var l_=class t extends Bt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function H0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?l_._fromErrorAndOperation(t,o,e,r):o})}async function wB(t,e,n=!1){let r=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tu._forOperation(t,"link",r)}async function DB(t,e,n=!1){let{auth:r}=t;if($t(r.app))return Promise.reject(lo(r));let i="reauthenticate";try{let o=await Zc(t,H0(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=w_(o.idToken);W(s,r,"internal-error");let{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),tu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jn(r,"user-mismatch"),o}}async function TB(t,e,n=!1){if($t(t.app))return Promise.reject(lo(t));let r="signIn",i=await H0(t,r,e),o=await tu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function ru(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function R_(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function N_(t){return ct(t).signOut()}var Uh="__sak";var Bh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var CB=1e3,bB=10,SB=(()=>{class t extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);hB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,bB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),q0=SB;var AB=(()=>{class t extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),M_=AB;function RB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var NB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await RB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function P_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var d_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=P_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Vn(){return window}function MB(t){Vn().location.href=t}function z0(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function PB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kB(){return z0()?self:null}var G0="firebaseLocalStorageDb",OB=1,$h="firebaseLocalStorage",W0="fbase_key",fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Gh(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function FB(){let t=indexedDB.deleteDatabase(G0);return new fo(t).toPromise()}function h_(){let t=indexedDB.open(G0,OB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($h,{keyPath:W0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await FB(),e(await h_()))})})}async function v0(t,e,n){let r=Gh(t,!0).put({[W0]:e,value:n});return new fo(r).toPromise()}async function LB(t,e){let n=Gh(t,!1).get(e),r=await new fo(n).toPromise();return r===void 0?null:r.value}function _0(t,e){let n=Gh(t,!0).delete(e);return new fo(n).toPromise()}var VB=800,jB=3,UB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>jB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=NB._getInstance(kB()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PB(),!this.activeServiceWorker)return;this.sender=new d_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||xB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await h_();return await v0(n,Uh,"1"),await _0(n,Uh),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>LB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Gh(o,!1).getAll();return new fo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),K0=UB;var uie=B0("rcb"),lie=new ho(3e4,6e4);function Q0(t,e){return e?ur(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var nu=class extends Xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function BB(t){return TB(t.auth,new nu(t),t.bypassAuthState)}function $B(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),DB(n,new nu(t),t.bypassAuthState)}async function HB(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),wB(n,new nu(t),t.bypassAuthState)}var Hh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BB;case"linkViaPopup":case"linkViaRedirect":return HB;case"reauthViaPopup":case"reauthViaRedirect":return $B;default:jn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qB=new ho(2e3,1e4);async function x_(t,e,n){if($t(t.app))return Promise.reject(gn(t,"operation-not-supported-in-this-environment"));let r=zh(t);ZU(t,e,eu);let i=Q0(r,n);return new zB(r,"signInViaPopup",e,i).executeNotNull()}var zB=(()=>{class t extends Hh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return W(n,this.auth,"internal-error"),n}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");let n=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,qB.get())};n()}}t.currentPopupAction=null;return t})(),GB="pendingRedirect",Nh=new Map,f_=class extends Hh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{let r=await WB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function WB(t,e){let n=YB(e),r=QB(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function KB(t,e){Nh.set(t._key(),e)}function QB(t){return ur(t._redirectPersistence)}function YB(t){return Rh(GB,t.config.apiKey,t.name)}async function ZB(t,e,n=!1){if($t(t.app))return Promise.reject(lo(t));let r=zh(t),i=Q0(r,e),s=await new f_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var JB=600*1e3,p_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JB&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}};function E0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function XB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(t);default:return!1}}async function e$(t,e={}){return xs(t,"GET","/v1/projects",e)}var t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n$=/^https?/;async function r$(t){if(t.config.emulator)return;let{authorizedDomains:e}=await e$(t);for(let n of e)try{if(i$(n))return}catch{}jn(t,"unauthorized-domain")}function i$(t){let e=r_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!n$.test(n))return!1;if(t$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var o$=new ho(3e4,6e4);function I0(){let t=Vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s$(t){return new Promise((e,n)=>{var r,i,o;function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(gn(t,"network-request-failed"))},timeout:o$.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Vn().gapi)===null||o===void 0)&&o.load)s();else{let a=B0("iframefcb");return Vn()[a]=()=>{gapi.load?s():n(gn(t,"network-request-failed"))},mB(`${yB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Mh=null,e})}var Mh=null;function a$(t){return Mh=Mh||s$(t),Mh}var c$=new ho(5e3,15e3),u$="__/auth/iframe",l$="emulator/auth/iframe",d$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f$(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?__(e,l$):`https://${t.config.authDomain}/${u$}`,r={apiKey:e.apiKey,appName:t.name,v:Kr},i=h$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ss(r).slice(1)}`}async function p$(t){let e=await a$(t),n=Vn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:f$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=gn(t,"network-request-failed"),a=Vn().setTimeout(()=>{o(s)},c$.get());function u(){Vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var g$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m$=500,y$=600,v$="_blank",_$="http://localhost",qh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function E$(t,e,n,r=m$,i=y$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},g$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();n&&(a=k0(l)?v$:n),P0(l)&&(e=e||_$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(dB(l)&&a!=="_self")return I$(e||"",a),new qh(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new qh(p)}function I$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var w$="__/auth/handler",D$="emulator/auth/handler",T$=encodeURIComponent("fac");async function w0(t,e,n,r,i,o){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kr,eventId:i};if(e instanceof eu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",OA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await t._getAppCheckToken(),l=u?`#${T$}=${encodeURIComponent(u)}`:"";return`${C$(t)}?${Ss(a).slice(1)}${l}`}function C$({config:t}){return t.emulator?__(t,D$):`https://${t.authDomain}/${w$}`}var n_="webStorageSupport",g_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M_,this._completeRedirectFn=ZB,this._overrideRedirectResult=KB}async _openPopup(e,n,r,i){var o;lr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await w0(e,n,r,r_(),i);return E$(e,s,P_())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await w0(e,n,r,r_(),i);return MB(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(lr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await p$(e),r=new p_(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n_,{type:n_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[n_];s!==void 0&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j0()||x0()||T_()}},Z0=g_;var D0="@firebase/auth",T0="1.10.8";var m_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function b$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S$(t){fn(new Ct("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U0(t)},l=new u_(r,i,o,u);return vB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new Ct("auth-internal",e=>{let n=zh(e.getProvider("auth").getImmediate());return(r=>new m_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(D0,T0,b$(t)),Pe(D0,T0,"esm2017")}var A$=300,R$=Pv("authIdTokenMaxAge")||A$,C0=null,N$=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R$)return;let i=n?.token;C0!==i&&(C0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k_(t=ao()){let e=As(t,"auth");if(e.isInitialized())return e.getImmediate();let n=b_(t,{popupRedirectResolver:Z0,persistence:[K0,q0,M_]}),r=Pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=N$(o.toString());R_(n,s,()=>s(n.currentUser)),ru(n,a=>s(a))}}let i=Nv("auth");return i&&S_(n,`http://${i}`),n}function M$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=gn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",M$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S$("Browser");function eR(t){return new X(function(e){var n=ru(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var tR="auth",po=class{constructor(e){return e}},iu=class{constructor(){return Ns(tR)}};var O_=new j("angularfire2.auth-instances");function EH(t,e){let n=Gc(tR,t,e);return n&&new po(n)}function IH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new po(r)}}var wH={provide:iu,deps:[[new Lt,O_]]},DH={provide:po,useFactory:EH,deps:[[new Lt,O_],ar]};function nR(t,...e){return Pe("angularfire",Qr.full,"auth"),xt([DH,wH,{provide:O_,useFactory:IH(t),multi:!0,deps:[De,je,Yr,uo,[new Lt,Ms],...e]}])}var rR=gt(eR,!0);var iR=gt(k_,!0);var oR=gt(x_,!0,2);var sR=gt(N_,!0,2);var aR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cR={};var dr,F_;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,b){for(var _=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)_[zn-2]=arguments[zn];return v.prototype[D].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var b=w.g[3],_=v+(b^E&(D^b))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^b&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^b)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~b))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,b=0;b<v;){if(D==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<v;)if(I[D++]=w.charCodeAt(b++),D==this.blockSize){i(this,I),D=0;break}}else for(;b<v;)if(I[D++]=w[b++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var b=w[D]|0;I&&b==v||(E[D]=b,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var b=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+b),v);8>b?(b=l(Math.pow(v,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-A(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(R(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=he(E,v).g;E=x(E,D.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,T(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=x(this,w),R(w)?-1:T(w)?0:1};function A(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return R(this)?A(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var b=I+(this.i(D)&65535)+(w.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,b&=65535,_&=65535,E[D]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(w,v){return w.add(A(v))}t.j=function(w){if(T(this)||T(w))return p;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var b=this.i(I)>>>16,_=this.i(I)&65535,zn=w.i(D)>>>16,ua=w.i(D)&65535;E[2*I+2*D]+=_*ua,U(E,2*I+2*D),E[2*I+2*D+1]+=b*ua,U(E,2*I+2*D+1),E[2*I+2*D+1]+=_*zn,U(E,2*I+2*D+1),E[2*I+2*D+2]+=b*zn,U(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function U(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function q(w,v){this.g=w,this.h=v}function he(w,v){if(T(v))throw Error("division by zero");if(T(w))return new q(p,p);if(R(w))return v=he(A(w),v),new q(A(v.g),A(v.h));if(R(v))return v=he(w,A(v)),new q(A(v.g),v.h);if(30<w.g.length){if(R(w)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=Ze(E),I=Ze(I);var D=_e(E,1),b=_e(I,1);for(I=_e(I,2),E=_e(E,2);!T(I);){var _=b.add(I);0>=_.l(w)&&(D=D.add(E),b=_),I=_e(I,1),E=_e(E,1)}return v=x(w,D.j(v)),new q(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(v);R(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(v);T(b)&&(b=m),D=D.add(b),w=x(w,_)}return new q(D,w)}t.A=function(w){return he(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function Ze(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function _e(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],b=0;b<I;b++)D[b]=0<v?w.i(b+E)>>>v|w.i(b+E+1)<<32-v:w.i(b+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F_=cR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,dr=cR.Integer=s}).apply(typeof aR<"u"?aR:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={};var L_,TH,ks,V_,ou,Kh,j_,U_,B_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,S){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,S=g.length||0;c.length=C+S;for(let k=0;k<S;k++)c[C+k]=g[k]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var Ze=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function _e(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=cp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zn{constructor(){this.h=this.g=null}add(d,f){let g=ua.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ua=new x(()=>new SP,c=>c.reset());class SP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let la,da=!1,cp=new zn,hw=()=>{let c=a.Promise.resolve(void 0);la=()=>{c.then(AP)}};var AP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}da=!1};function Er(){this.s=this.s,this.C=this.C}Er.prototype.s=!1,Er.prototype.ma=function(){this.s||(this.s=!0,this.N())},Er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var RP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function ha(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ze){e:{try{he(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:NP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}T(ha,ut);var NP={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),MP=0;function PP(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++MP,this.da=this.fa=!1}function xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ku(c){this.src=c,this.g={},this.h=0}ku.prototype.add=function(c,d,f,g,C){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=lp(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new PP(d,this.src,S,!!g,C),d.fa=f,c.push(d)),d};function up(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function lp(c,d,f,g){for(var C=0;C<c.length;++C){var S=c[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var dp="closure_lm_"+(1e6*Math.random()|0),hp={};function fw(c,d,f,g,C){if(g&&g.once)return gw(c,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)fw(c,d[S],f,g,C);return null}return f=mp(f),c&&c[fa]?c.K(d,f,l(g)?!!g.capture:!!g,C):pw(c,d,f,!1,g,C)}function pw(c,d,f,g,C,S){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,Ie=pp(c);if(Ie||(c[dp]=Ie=new ku(c)),f=Ie.add(d,f,g,k,S),f.proxy)return f;if(g=xP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)RP||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(yw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xP(){function c(f){return d.call(c.src,c.listener,f)}let d=kP;return c}function gw(c,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)gw(c,d[S],f,g,C);return null}return f=mp(f),c&&c[fa]?c.L(d,f,l(g)?!!g.capture:!!g,C):pw(c,d,f,!0,g,C)}function mw(c,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)mw(c,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=mp(f),c&&c[fa]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=lp(S,f,g,C),-1<f&&(xu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=pp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=lp(d,f,g,C)),(f=-1<c?d[c]:null)&&fp(f))}function fp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[fa])up(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(yw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=pp(d))?(up(f,c),f.h==0&&(f.src=null,d[dp]=null)):xu(c)}}}function yw(c){return c in hp?hp[c]:hp[c]="on"+c}function kP(c,d){if(c.da)c=!0;else{d=new ha(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&fp(c),c=f.call(g,d)}return c}function pp(c){return c=c[dp],c instanceof ku?c:null}var gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function mp(c){return typeof c=="function"?c:(c[gp]||(c[gp]=function(d){return c.handleEvent(d)}),c[gp])}function lt(){Er.call(this),this.i=new ku(this),this.M=this,this.F=null}T(lt,Er),lt.prototype[fa]=!0,lt.prototype.removeEventListener=function(c,d,f,g){mw(this,c,d,f,g)};function _t(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var C=d;d=new ut(g,c),I(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];C=Ou(k,g,!0,d)&&C}if(k=d.g=c,C=Ou(k,g,!0,d)&&C,C=Ou(k,g,!1,d)&&C,f)for(S=0;S<f.length;S++)k=d.g=f[S],C=Ou(k,g,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)xu(f[g]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},lt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ou(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var Ie=k.listener,rt=k.ha||k.src;k.fa&&up(c.i,k),C=Ie.call(rt,g)!==!1&&C}}return C&&!g.defaultPrevented}function vw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function _w(c){c.g=vw(()=>{c.g=null,c.i&&(c.i=!1,_w(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class OP extends Er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_w(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){Er.call(this),this.h=c,this.g={}}T(pa,Er);var Ew=[];function Iw(c){_e(c.g,function(d,f){this.g.hasOwnProperty(f)&&fp(d)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),Iw(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yp=a.JSON.stringify,FP=a.JSON.parse,LP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vp(){}vp.prototype.h=null;function ww(c){return c.h||(c.h=c.i())}function Dw(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _p(){ut.call(this,"d")}T(_p,ut);function Ep(){ut.call(this,"c")}T(Ep,ut);var li={},Tw=null;function Fu(){return Tw=Tw||new lt}li.La="serverreachability";function Cw(c){ut.call(this,li.La,c)}T(Cw,ut);function ma(c){let d=Fu();_t(d,new Cw(d))}li.STAT_EVENT="statevent";function bw(c,d){ut.call(this,li.STAT_EVENT,c),this.stat=d}T(bw,ut);function Et(c){let d=Fu();_t(d,new bw(d,c))}li.Ma="timingevent";function Sw(c,d){ut.call(this,li.Ma,c),this.size=d}T(Sw,ut);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function VP(c,d,f,g,C,S){c.info(function(){if(c.g)if(S)for(var k="",Ie=S.split("&"),rt=0;rt<Ie.length;rt++){var le=Ie[rt].split("=");if(1<le.length){var dt=le[0];le=le[1];var ht=dt.split("_");k=2<=ht.length&&ht[1]=="type"?k+(dt+"="+le+"&"):k+(dt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function jP(c,d,f,g,C,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+k})}function Mo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+BP(c,f)+(g?" "+g:"")})}function UP(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function BP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return yp(f)}catch{return d}}var Lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ip;function Vu(){}T(Vu,vp),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},Ip=new Vu;function Ir(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rw}function Rw(){this.i=null,this.g="",this.h=!1}var Nw={},wp={};function Dp(c,d,f){c.L=1,c.v=$u(Gn(d)),c.m=f,c.P=!0,Mw(c,null)}function Mw(c,d){c.F=Date.now(),ju(c),c.A=Gn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),zw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Rw,c.g=uD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new OP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ew[0]=C.toString()),C=Ew);for(var S=0;S<C.length;S++){var k=fw(f,C[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),VP(c.i,c.u,c.A,c.l,c.R,c.m)}Ir.prototype.ca=function(c){c=c.target;let d=this.M;d&&Wn(c)==3?d.j():this.Y(c)},Ir.prototype.Y=function(c){try{if(c==this.g)e:{let ht=Wn(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Jw(this.g)))){this.J||ht!=4||d==7||(d==8||0>=ko?ma(3):ma(2)),Tp(this);var f=this.g.Z();this.X=f;t:if(Pw(this)){var g=Jw(this.g);c="";var C=g.length,S=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),_a(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,jP(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,rt=this.g;if((Ie=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ie)){var le=Ie;break t}}le=null}if(f=le)Mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,f);else{this.o=!1,this.s=3,Et(12),di(this),_a(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<k.length;)if(Xt=$P(this,k),Xt==wp){ht==4&&(this.s=4,Et(14),f=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Nw){this.s=4,Et(15),Mo(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Mo(this.i,this.l,Xt,null),Cp(this,Xt);if(Pw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||k.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Mo(this.i,this.l,k,"[Invalid Chunked Response]"),di(this),_a(this);else if(0<k.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Mp(dt),dt.M=!0,Et(11))}}else Mo(this.i,this.l,k,null),Cp(this,k);ht==4&&di(this),this.o&&!this.J&&(ht==4?oD(this.j,this):(this.o=!1,ju(this)))}else ox(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),di(this),_a(this)}}}catch{}finally{}};function Pw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $P(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?wp:(f=Number(d.substring(f,g)),isNaN(f)?Nw:(g+=1,g+f>d.length?wp:(d=d.slice(g,g+f),c.C=g+f,d)))}Ir.prototype.cancel=function(){this.J=!0,di(this)};function ju(c){c.S=Date.now()+c.I,xw(c,c.I)}function xw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(m(c.ba,c),d)}function Tp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ir.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(UP(this.i,this.A),this.L!=2&&(ma(),Et(17)),di(this),this.s=2,_a(this)):xw(this,this.S-c)};function _a(c){c.j.G==0||c.J||oD(c.j,c)}function di(c){Tp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Iw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Cp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||bp(f.h,c))){if(!c.K&&bp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wu(f),zu(f);else break e;Np(f),Et(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ya(m(f.Za,f),6e3));if(1>=Fw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((c.K||f.g==c)&&Wu(f),!U(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let le=C[d];if(f.T=le[0],le=le[1],f.G==2)if(le[0]=="c"){f.K=le[1],f.ia=le[2];let dt=le[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=le[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let ko=le[5];ko!=null&&typeof ko=="number"&&0<ko&&(g=1.5*ko,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Xt=c.g;if(Xt){let Qu=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var S=g.h;S.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Sp(S,S.h),S.h=null))}if(g.D){let Pp=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pp&&(g.ya=Pp,we(g.I,g.D,Pp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=cD(g,g.J?g.ia:null,g.W),k.K){Lw(g.h,k);var Ie=k,rt=g.L;rt&&(Ie.I=rt),Ie.B&&(Tp(Ie),ju(Ie)),g.g=k}else rD(g);0<f.i.length&&Gu(f)}else le[0]!="stop"&&le[0]!="close"||fi(f,7);else f.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?fi(f,7):Rp(f):le[0]!="noop"&&f.l&&f.l.ta(le),f.v=0)}}ma(4)}catch{}}var HP=class{constructor(c,d){this.g=c,this.map=d}};function kw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ow(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fw(c){return c.h?1:c.g?c.g.size:0}function bp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Sp(c,d){c.g?c.g.add(d):c.h=d}function Lw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}kw.prototype.cancel=function(){if(this.i=Vw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Vw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function qP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function zP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function jw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=zP(c),g=qP(c),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],c)}var Uw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var S=c[f].substring(0,g);C=c[f].substring(g+1)}else S=c[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hi){this.h=c.h,Uu(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var d=c.i,f=new wa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Bw(this,f),this.m=c.m}else c&&(d=String(c).match(Uw))?(this.h=!1,Uu(this,d[1]||"",!0),this.o=Ea(d[2]||""),this.g=Ea(d[3]||"",!0),Bu(this,d[4]),this.l=Ea(d[5]||"",!0),Bw(this,d[6]||"",!0),this.m=Ea(d[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}hi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ia(d,$w,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ia(d,$w,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ia(f,f.charAt(0)=="/"?QP:KP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ia(f,ZP)),c.join("")};function Gn(c){return new hi(c)}function Uu(c,d,f){c.j=f?Ea(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Bw(c,d,f){d instanceof wa?(c.i=d,JP(c.i,c.h)):(f||(d=Ia(d,YP)),c.i=new wa(d,c.h))}function we(c,d,f){c.i.set(d,f)}function $u(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ea(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ia(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,WP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function WP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $w=/[#\/\?@]/g,KP=/[#\?:]/g,QP=/[#\?]/g,YP=/[#\?@]/g,ZP=/#/g;function wa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&GP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=wa.prototype,t.add=function(c,d){wr(this),this.i=null,c=Po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Hw(c,d){wr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function qw(c,d){return wr(c),d=Po(c,d),c.g.has(d)}t.forEach=function(c,d){wr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){wr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},t.V=function(c){wr(this);let d=[];if(typeof c=="string")qw(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return wr(this),this.i=null,c=Po(this,c),qw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function zw(c,d,f){Hw(c,d),0<f.length&&(c.i=null,c.g.set(Po(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=S;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JP(c,d){d&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Hw(this,g),zw(this,C,f))},c)),c.j=d}function XP(c,d){let f=new va;if(a.Image){let g=new Image;g.onload=y(Dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Dr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ex(c,d){let f=new va,g=new AbortController,C=setTimeout(()=>{g.abort(),Dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?Dr(f,"TestPingServer: ok",!0,d):Dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Dr(f,"TestPingServer: error",!1,d)})}function Dr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function tx(){this.g=new LP}function nx(c,d,f){let g=f||"";try{jw(c,function(C,S){let k=C;l(C)&&(k=yp(C)),d.push(g+S+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Da(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Da,vp),Da.prototype.g=function(){return new Hu(this.l,this.j)},Da.prototype.i=(function(c){return function(){return c}})({});function Hu(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Hu,lt),t=Hu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ta(this):Ca(this),this.readyState==3&&Gw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},t.Qa=function(c){this.g&&(this.response=c,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ww(c){let d="";return _e(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Ap(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Ww(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function Ae(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ae,lt);var rx=/^https?$/i,ix=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ip.g(),this.v=this.o?ww(this.o):ww(Ip),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){Kw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ix,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){Kw(this,S)}};function Kw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Qw(c),qu(c)}function Qw(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yw(this):this.bb())},t.bb=function(){Yw(this)};function Yw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)vw(c.Ea,0,c);else if(_t(c,"readystatechange"),Wn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(Uw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!rx.test(C?C.toLowerCase():"")}f=g}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var S=2<Wn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Qw(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){Zw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=g}catch{}}}function Zw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),FP(d)}};function Jw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ox(c){let d={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Xw(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ba("baseRetryDelayMs",5e3,c),this.cb=ba("retryDelaySeedMs",1e4,c),this.Wa=ba("forwardChannelMaxRetries",2,c),this.wa=ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kw(c&&c.concurrentRequestLimit),this.Da=new tx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=cD(this,null,this.W),Gu(this)};function Rp(c){if(eD(c),c.G==3){var d=c.U++,f=Gn(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),Sa(c,f),d=new Ir(c,c.j,d),d.L=2,d.v=$u(Gn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=uD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ju(d)}aD(c)}function zu(c){c.g&&(Mp(c),c.g.cancel(),c.g=null)}function eD(c){zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!Ow(c.h)&&!c.s){c.s=!0;var d=c.Ga;la||hw(),da||(la(),da=!0),cp.add(d,c),c.B=0}}function sx(c,d){return Fw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(m(c.Ga,c,d),sD(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Ir(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=nD(this,C,d),f=Gn(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Sa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(Ww(S)))+"&"+d:this.m&&Ap(f,this.m,S)),Sp(this.h,C),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),C.T=!0,Dp(C,f,null)):Dp(C,f,d),this.G=2}}else this.G==3&&(c?tD(this,c):this.i.length==0||Ow(this.h)||tD(this))};function tD(c,d){var f;d?f=d.l:f=c.U++;let g=Gn(c.I);we(g,"SID",c.K),we(g,"RID",f),we(g,"AID",c.T),Sa(c,g),c.m&&c.o&&Ap(g,c.m,c.o),f=new Ir(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=nD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sp(c.h,f),Dp(f,g,d)}function Sa(c,d){c.H&&_e(c.H,function(f,g){we(d,g,f)}),c.l&&jw({},function(f,g){we(d,g,f)})}function nD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=C[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ie=!0;for(let rt=0;rt<f;rt++){let le=C[rt].g,dt=C[rt].map;if(le-=S,0>le)S=Math.max(0,C[rt].g-100),Ie=!1;else try{nx(dt,k,"req"+le+"_")}catch{g&&g(dt)}}if(Ie){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function rD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;la||hw(),da||(la(),da=!0),cp.add(d,c),c.v=0}}function Np(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(m(c.Fa,c),sD(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,iD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),zu(this),iD(this))};function Mp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function iD(c){c.g=new Ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Gn(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),Sa(c,d),c.m&&c.o&&Ap(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=$u(Gn(d)),f.m=null,f.P=!0,Mw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zu(this),Np(this),Et(19))};function Wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function oD(c,d){var f=null;if(c.g==d){Wu(c),Mp(c),c.g=null;var g=2}else if(bp(c.h,d))f=d.D,Lw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Fu(),_t(g,new Sw(g,f)),Gu(c)}else rD(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&sx(c,d)||g==2&&Np(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function sD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function fi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new hi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uu(g,"https"),$u(g),C?XP(g.toString(),f):ex(g.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),aD(c),eD(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function aD(c){if(c.G=0,c.ka=[],c.l){let d=Vw(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function cD(c,d,f){var g=f instanceof hi?Gn(f):new hi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Bu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new hi(null);g&&Uu(S,g),d&&(S.g=d),C&&Bu(S,C),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&we(g,f,d),we(g,"VER",c.la),Sa(c,g),g}function uD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new Da({eb:f})):new Ae(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lD(){}t=lD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(c,d){return new Mt(c,d)};function Mt(c,d){lt.call(this),this.g=new Xw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xo(this)}T(Mt,lt),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Rp(this.g)},Mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=yp(c),c=f);d.i.push(new HP(d.Ya++,c)),d.G==3&&Gu(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Rp(this.g),delete this.g,Mt.aa.N.call(this)};function dD(c){_p.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(dD,_p);function hD(){Ep.call(this),this.status=1}T(hD,Ep);function xo(c){this.g=c}T(xo,lD),xo.prototype.ua=function(){_t(this.g,"a")},xo.prototype.ta=function(c){_t(this.g,new dD(c))},xo.prototype.sa=function(c){_t(this.g,new hD)},xo.prototype.ra=function(){_t(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,B_=hr.createWebChannelTransport=function(){return new Ku},U_=hr.getStatEventTarget=function(){return Fu()},j_=hr.Event=li,Kh=hr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,ou=hr.ErrorCode=Lu,Aw.COMPLETE="complete",V_=hr.EventType=Aw,Dw.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ks=hr.WebChannel=Dw,TH=hr.FetchXmlHttpFactory=Da,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,L_=hr.XhrIo=Ae}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});var uR="@firebase/firestore",lR="4.8.0";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var ta="11.10.0";var Eo=new Fn("@firebase/firestore");function Os(){return Eo.logLevel}function L(t,...e){if(Eo.logLevel<=ie.DEBUG){let n=e.map(NI);Eo.debug(`Firestore (${ta}): ${t}`,...n)}}function pr(t,...e){if(Eo.logLevel<=ie.ERROR){let n=e.map(NI);Eo.error(`Firestore (${ta}): ${t}`,...n)}}function ii(t,...e){if(Eo.logLevel<=ie.WARN){let n=e.map(NI);Eo.warn(`Firestore (${ta}): ${t}`,...n)}}function NI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function H(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rN(t,r,n)}function rN(t,e,n){let r=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rN(e,i,r)}function Q(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var tf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},G_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},W_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},K_=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new tf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},Q_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Y_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Q_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function CH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function iN(){return new TextEncoder}var hu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=CH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ne(t,e){return t<e?-1:t>e?1:0}function J_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ne(r,i);{let o=iN(),s=bH(o.encode(dR(t,n)),o.encode(dR(e,n)));return s!==0?s:ne(r,i)}}n+=r>65535?2:1}return ne(t.length,e.length)}function dR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ne(t[n],e[n]);return ne(t.length,e.length)}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var hR="__name__",rf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&H(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ne(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):J_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}},Ce=class t extends rf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},SH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class t extends rf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return SH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hR}static keyField(){return new t([hR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};function oN(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AH(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fR(t){if(!$.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if($.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H(12329,{type:typeof t})}function au(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ff(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ze(t,e){let n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!sN(t))throw new F(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(N.INVALID_ARGUMENT,n);return!0}var gR=-62135596800,mR=1e6,Ge=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gR)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mR}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-gR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:ze("string",Ge._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ge(0,0))}static max(){return new t(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fu=-1,X_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};X_.UNKNOWN_ID=-1;function RH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Io(i,$.empty(),e)}function NH(t){return new Io(t.readTime,t.key,fu)}var Io=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),$.empty(),fu)}static max(){return new t(J.max(),$.empty(),fu)}};function MH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}var PH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function na(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==PH)throw t;L("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function xH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ra(t){return t.name==="IndexedDbTransactionError"}var MI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),PI=-1;function Lf(t){return t==null}function pu(t){return t===0&&1/t==-1/0}function kH(t){return typeof t=="number"&&Number.isInteger(t)&&!pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var aN="";function OH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yR(e)),e=FH(t.get(n),e);return yR(e)}function FH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case aN:n+="";break;default:n+=o}}return n}function yR(t){return t+aN+""}var LH="remoteDocuments",cN="owner";var uN="mutationQueues";var lN="mutations";var dN="documentMutations",VH="remoteDocumentsV14";var hN="remoteDocumentGlobal";var fN="targets";var pN="targetDocuments";var gN="targetGlobal",mN="collectionParents";var yN="clientMetadata";var vN="bundles";var _N="namedQueries";var jH="indexConfiguration";var UH="indexState";var BH="indexEntries";var EN="documentOverlays";var $H="globals";var HH=[uN,lN,dN,LH,fN,cN,gN,pN,yN,hN,mN,vN,_N],moe=[...HH,EN],qH=[uN,lN,dN,VH,fN,cN,gN,pN,yN,hN,mN,vN,_N,EN],zH=qH,GH=[...zH,jH,UH,BH];var yoe=[...GH,$H];function vR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Un=class t{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new nt(Ht.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var sf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var WH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(ve(!!t,39018),typeof t=="string"){let e=0,n=WH.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(t.seconds),nanos:Te(t.nanos)}}function Te(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var wN="server_timestamp",DN="__type__",TN="__previous_value__",CN="__local_write_time__";function xI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DN])===null||n===void 0?void 0:n.stringValue)===wN}function Vf(t){let e=t.mapValue.fields[TN];return xI(e)?Vf(e):e}function gu(t){let e=gr(t.mapValue.fields[CN].timestampValue);return new Ge(e.seconds,e.nanos)}var tE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},af="(default)",cf=class t{constructor(e,n){this.projectId=e,this.database=n||af}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var kI="__type__",bN="__max__",Qh={mapValue:{fields:{__type__:{stringValue:bN}}}},OI="__vector__",qs="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xI(t)?4:AN(t)?9007199254740991:SN(t)?10:11:H(28295,{value:t})}function qn(t,e){if(t===e)return!0;let n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gr(i.timestampValue),a=gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return mr(i.bytesValue).isEqual(mr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),a=Te(o.doubleValue);return s===a?pu(s)===pu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vR(s)!==vR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!qn(s[u],a[u])))return!1;return!0})(t,e);default:return H(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function zs(t,e){if(t===e)return 0;let n=oi(t),r=oi(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return _R(t.timestampValue,e.timestampValue);case 4:return _R(gu(t),gu(e));case 5:return J_(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=mr(o),u=mr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ne(a[l],u[l]);if(h!==0)return h}return ne(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ne(Te(o.latitude),Te(s.latitude));return a!==0?a:ne(Te(o.longitude),Te(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ER(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[qs])===null||a===void 0?void 0:a.arrayValue,T=(u=m[qs])===null||u===void 0?void 0:u.arrayValue,R=ne(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:ER(y,T)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Qh.mapValue&&s===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(s===Qh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=J_(u[p],h[p]);if(m!==0)return m;let y=zs(a[u[p]],l[h[p]]);if(y!==0)return y}return ne(u.length,h.length)})(t.mapValue,e.mapValue);default:throw H(23264,{le:n})}}function _R(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);let n=gr(t),r=gr(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function ER(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=zs(n[i],r[i]);if(o)return o}return ne(n.length,r.length)}function Gs(t){return nE(t)}function nE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=gr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return mr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=nE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${nE(n.fields[s])}`;return i+"}"})(t.mapValue):H(61005,{value:t})}function Jh(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vf(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Jh(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ao(r.fields,(o,s)=>{i+=o.length+Jh(s)}),i})(t.mapValue);default:throw H(13486,{value:t})}}function IR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rE(t){return!!t&&"integerValue"in t}function FI(t){return!!t&&"arrayValue"in t}function wR(t){return!!t&&"nullValue"in t}function DR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function SN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kI])===null||n===void 0?void 0:n.stringValue)===OI}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bN}var _oe={mapValue:{fields:{[kI]:{stringValue:OI},[qs]:{arrayValue:{}}}}};var mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(cu(this.value))}};function RN(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new Ht([n]);if(Xh(r)){let o=RN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}var yn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function TR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=$.comparator($.fromName(s.referenceValue),n.key):r=zs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}var wo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var uf=class{},qe=class t extends uf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oE(e,n,r):n==="array-contains"?new cE(e,r):n==="in"?new uE(e,r):n==="not-in"?new lE(e,r):n==="array-contains-any"?new dE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sE(e,r):new aE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class t extends uf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return NN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function NN(t){return t.op==="and"}function MN(t){return QH(t)&&NN(t)}function QH(t){for(let e of t.filters)if(e instanceof vn)return!1;return!0}function iE(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(MN(t))return t.filters.map(e=>iE(e)).join(",");{let e=t.filters.map(n=>iE(n)).join(",");return`${t.op}(${e})`}}function PN(t,e){return t instanceof qe?(function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)})(t,e):t instanceof vn?(function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PN(s,i.filters[a]),!0):!1})(t,e):void H(19439)}function xN(t){return t instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`})(t):t instanceof vn?(function(n){return n.op.toString()+" {"+n.getFilters().map(xN).join(" ,")+"}"})(t):"Filter"}var oE=class extends qe{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},sE=class extends qe{constructor(e,n){super(e,"in",n),this.keys=kN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},aE=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=kN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function kN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var cE=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return FI(n)&&mu(n.arrayValue,this.value)}},uE=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}},lE=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}},dE=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!FI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}};var hE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function bR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hE(t,e,n,r,i,o,s)}function LI(t){let e=Q(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.Pe=n}return e.Pe}function VI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CR(t.startAt,e.startAt)&&CR(t.endAt,e.endAt)}function fE(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var si=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function YH(t,e,n,r,i,o,s,a){return new si(t,e,n,r,i,o,s,a)}function jI(t){return new si(t)}function SR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ON(t){return t.collectionGroup!==null}function uu(t){let e=Q(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nt(Ht.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new wo(o,r))}),n.has(Ht.keyField().canonicalString())||e.Te.push(new wo(Ht.keyField(),r))}return e.Te}function $n(t){let e=Q(t);return e.Ie||(e.Ie=ZH(e,uu(t))),e.Ie}function ZH(t,e){if(t.limitType==="F")return bR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wo(i.field,o)});let n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return bR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pE(t,e){let n=t.filters.concat([e]);return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gE(t,e,n){return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return VI($n(t),$n(e))&&t.limitType===e.limitType}function FN(t){return`${LI($n(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xN(i)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`})($n(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of uu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=TR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,uu(r),i)||r.endAt&&!(function(s,a,u){let l=TR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,uu(r),i))})(t,e)}function JH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LN(t){return(e,n)=>{let r=!1;for(let i of uu(t)){let o=XH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XH(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?zs(u,l):H(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:t.dir})}}var yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return IN(this.inner)}size(){return this.innerSize}};var e4=new xe($.comparator);function vr(){return e4}var VN=new xe($.comparator);function su(...t){let e=VN;for(let n of t)e=e.insert(n.key,n);return e}function jN(t){let e=VN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return lu()}function UN(){return lu()}function lu(){return new yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var t4=new xe($.comparator),n4=new nt($.comparator);function se(...t){let e=n4;for(let n of t)e=e.add(n);return e}var r4=new nt(ne);function i4(){return r4}function UI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function BN(t){return{integerValue:""+t}}function o4(t,e){return kH(e)?BN(e):UI(t,e)}var Ks=class{constructor(){this._=void 0}};function s4(t,e,n){return t instanceof Qs?(function(i,o){let s={fields:{[DN]:{stringValue:wN},[CN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xI(o)&&(o=Vf(o)),o&&(s.fields[TN]=o),{mapValue:s}})(n,e):t instanceof Do?HN(t,e):t instanceof To?qN(t,e):(function(i,o){let s=$N(i,o),a=AR(s)+AR(i.Ee);return rE(s)&&rE(i.Ee)?BN(a):UI(i.serializer,a)})(t,e)}function a4(t,e,n){return t instanceof Do?HN(t,e):t instanceof To?qN(t,e):n}function $N(t,e){return t instanceof Ys?(function(r){return rE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},Do=class extends Ks{constructor(e){super(),this.elements=e}};function HN(t,e){let n=zN(e);for(let r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var To=class extends Ks{constructor(e){super(),this.elements=e}};function qN(t,e){let n=zN(e);for(let r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}var Ys=class extends Ks{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function AR(t){return Te(t.integerValue||t.doubleValue)}function zN(t){return FI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c4(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Do&&i instanceof Do||r instanceof To&&i instanceof To?Hs(r.elements,i.elements,qn):r instanceof Ys&&i instanceof Ys?qn(r.Ee,i.Ee):r instanceof Qs&&i instanceof Qs})(t.transform,e.transform)}var mE=class{constructor(e,n){this.version=e,this.transformResults=n}},vo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Zs=class{};function GN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lf(t.key,vo.none()):new Co(t.key,t.data,vo.none());{let n=t.data,r=mn.empty(),i=new nt(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _r(t.key,r,new Un(i.toArray()),vo.none())}}function u4(t,e,n){t instanceof Co?(function(i,o,s){let a=i.value.clone(),u=NR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof _r?(function(i,o,s){if(!ef(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=NR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(WN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function du(t,e,n,r){return t instanceof Co?(function(o,s,a,u){if(!ef(o.precondition,s))return a;let l=o.value.clone(),h=MR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof _r?(function(o,s,a,u){if(!ef(o.precondition,s))return a;let l=MR(o.fieldTransforms,u,s),h=s.data;return h.setAll(WN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return ef(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function l4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=$N(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function RR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>c4(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Co=class extends Zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_r=class extends Zs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function WN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function NR(t,e,n){let r=new Map;ve(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,a4(s,a,n[i]))}return r}function MR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,s4(o,s,e))}return r}var lf=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yE=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&u4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=UN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=GN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>RR(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>RR(n,r))}},_E=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return t4})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var EE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var IE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,ce;function d4(t){switch(t){case N.OK:return H(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return H(15467,{code:t})}}function KN(t){if(t===void 0)return pr("GRPC error has no .code"),N.UNKNOWN;switch(t){case $e.OK:return N.OK;case $e.CANCELLED:return N.CANCELLED;case $e.UNKNOWN:return N.UNKNOWN;case $e.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case $e.INTERNAL:return N.INTERNAL;case $e.UNAVAILABLE:return N.UNAVAILABLE;case $e.UNAUTHENTICATED:return N.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case $e.NOT_FOUND:return N.NOT_FOUND;case $e.ALREADY_EXISTS:return N.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return N.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case $e.ABORTED:return N.ABORTED;case $e.OUT_OF_RANGE:return N.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return N.UNIMPLEMENTED;case $e.DATA_LOSS:return N.DATA_LOSS;default:return H(39323,{code:t})}}(ce=$e||($e={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var PR=null;var h4=new dr([4294967295,4294967295],0);function xR(t){let e=iN().encode(t),n=new F_;return n.update(e),new Uint8Array(n.digest())}function kR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new dr([n,r],0),new dr([i,o],0)]}var wE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=dr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(dr.fromNumber(r)));return i.compare(h4)===1&&(i=new dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=xR(e),[r,i]=kR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=xR(e),[r,i]=kR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var df=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new xe(ne),vr(),se())}},yu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,se(),se(),se())}};var Us=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},hf=class{constructor(e,n){this.targetId=e,this.De=n}},ff=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},pf=class{constructor(){this.ve=0,this.Ce=OR(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=se(),n=se(),r=se();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new yu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=OR()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},DE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=vr(),this.je=Yh(),this.Je=Yh(),this.He=new xe(ne)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(fE(o))if(r===0){let s=new $(o.path);this.Xe(n,s,yn.newNoDocument(s,J.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}PR?.ct((function(h,p,m,y,T){var R,A,x,U,q,he;let Ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},_e=p.unchangedNames;return _e&&(Ze.bloomFilter={applied:T===0,hashCount:(R=_e?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(U=(x=(A=_e?.bits)===null||A===void 0?void 0:A.bitmap)===null||x===void 0?void 0:x.length)!==null&&U!==void 0?U:0,padding:(he=(q=_e?.bits)===null||q===void 0?void 0:q.padding)!==null&&he!==void 0?he:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),Ze})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=mr(r).toUint8Array()}catch(u){if(u instanceof sf)return ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wE(s,i,o)}catch(u){return ii(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&fE(a.target)){let u=new $(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,yn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=se();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new df(e,n,this.He,this.ze,r);return this.ze=vr(),this.je=Yh(),this.Je=Yh(),this.He=new xe(ne),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new pf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new nt(ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new nt(ne),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new pf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Yh(){return new xe($.comparator)}function OR(){return new xe($.comparator)}var f4={asc:"ASCENDING",desc:"DESCENDING"},p4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g4={and:"AND",or:"OR"},TE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function CE(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m4(t,e){return gf(t,e.toTimestamp())}function Hn(t){return ve(!!t,49232),J.fromTimestamp((function(n){let r=gr(n);return new Ge(r.seconds,r.nanos)})(t))}function BI(t,e){return bE(t,e).canonicalString()}function bE(t,e){let n=(function(i){return new Ce(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function YN(t){let e=Ce.fromString(t);return ve(tM(e),10190,{key:e.toString()}),e}function SE(t,e){return BI(t.databaseId,e.path)}function $_(t,e){let n=YN(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(JN(n))}function ZN(t,e){return BI(t.databaseId,e)}function y4(t){let e=YN(t);return e.length===4?Ce.emptyPath():JN(e)}function AE(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JN(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FR(t,e,n){return{name:SE(t,e),fields:n.value.mapValue.fields}}function v4(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:KN(l.code);return new F(h,l.message||"")})(s);n=new ff(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$_(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):J.min(),a=new mn({mapValue:{fields:r.document.fields}}),u=yn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$_(t,r.document),o=r.readTime?Hn(r.readTime):J.min(),s=yn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$_(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new IE(i,o),a=r.targetId;n=new hf(a,s)}}return n}function _4(t,e){let n;if(e instanceof Co)n={update:FR(t,e.key,e.value)};else if(e instanceof lf)n={delete:SE(t,e.key)};else if(e instanceof _r)n={update:FR(t,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof yE))return H(16599,{Rt:e.type});n={verify:SE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof To)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:m4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)})(t,e.precondition)),n}function E4(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(J.min())&&(s=Hn(o)),new mE(s,i.transformResults||[])})(n,e))):[]}function I4(t,e){return{documents:[ZN(t,e.path)]}}function w4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZN(t,i);let o=(function(l){if(l.length!==0)return eM(vn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ls(m.field),direction:C4(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=CE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function D4(t){let e=y4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=XN(p);return m instanceof vn&&MN(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(T){return new wo(Vs(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Lf(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ws(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ws(y,m)})(n.endAt)),YH(e,i,s,o,a,"F",u,l)}function T4(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Vs(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Vs(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Vs(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qe.create(Vs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vn.create(n.compositeFilter.filters.map(r=>XN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(n.compositeFilter.op))})(t):H(30097,{filter:t})}function C4(t){return f4[t]}function b4(t){return p4[t]}function S4(t){return g4[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Vs(t){return Ht.fromServerFormat(t.fieldPath)}function eM(t){return t instanceof qe?(function(n){if(n.op==="=="){if(DR(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(wR(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DR(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(wR(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:b4(n.op),value:n.value}}})(t):t instanceof vn?(function(n){let r=n.getFilters().map(i=>eM(i));return r.length===1?r[0]:{compositeFilter:{op:S4(n.op),filters:r}}})(t):H(54877,{filter:t})}function A4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vu=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var RE=class{constructor(e){this.gt=e}};function R4(t){let e=D4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gE(e,e.limit,"L"):e}var mf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),pu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=gr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(mr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?AN(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):SN(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):H(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=qs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Te(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),$.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};mf.Ut=new mf;var NE=class{constructor(){this.Dn=new ME}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Io.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},ME=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ce.comparator)).toArray()}};var Eoe=new Uint8Array(0);var LR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nM=41943040,Jt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(nM,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var _u=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var VR="LruGarbageCollector",N4=1048576;function jR([t,e],[n,r]){let i=ne(t,n);return i===0?ne(e,r):i}var PE=class{constructor(e){this.Tr=e,this.buffer=new nt(jR),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();jR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},xE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(VR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ra(n)?L(VR,"Ignoring IndexedDB error during garbage collection: ",n):await na(n)}await this.Rr(3e5)})}},kE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(MI.ue);let r=new PE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(LR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LR):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Os()<=ie.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function M4(t,e){return new kE(t,e)}var OE=class{constructor(){this.changes=new yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var FE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var LE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&du(r.mutation,i,Un.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){let i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=su();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=vr(),s=lu(),a=(function(){return lu()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof _r)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),du(h.mutation,l,h.mutation.getFieldMask(),Ge.now())):s.set(l.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new FE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=lu(),i=new xe((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Un.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=UN();h.forEach(m=>{if(!o.has(m)){let y=GN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ON(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(go()),a=fu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,se())).next(h=>({batchId:a,changes:jN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=su();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new si(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,yn.newInvalidDocument(h)))});let a=su();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&du(h.mutation,l,Un.empty(),Ge.now()),Uf(n,l)&&(a=a.insert(u,l))}),a})}};var VE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:R4(i.bundledQuery),readTime:Hn(i.readTime)}})(n)),P.resolve()}};var jE=class{constructor(){this.overlays=new xe($.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=go();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=go(),o=n.length+1,s=new $(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=go(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EE(n,r));let o=this.kr.get(n);o===void 0&&(o=se(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var UE=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Eu=class{constructor(){this.qr=new nt(He.Qr),this.$r=new nt(He.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new He(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new He(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new $(new Ce([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new $(new Ce([])),r=new He(n,e),i=new He(n,e+1),o=se();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new He(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return $.comparator(e.key,n.key)||ne(e.Hr,n.Hr)}static Ur(e,n){return ne(e.Hr,n.Hr)||$.comparator(e.key,n.key)}};var BE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new nt(He.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new vE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?PI:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ne);return n.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));let s=new He(new $(o),0),a=new nt(ne);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new He(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $E=class{constructor(e){this.ni=e,this.docs=(function(){return new xe($.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vr(),s=n.path,a=new $(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||MH(NH(h),r)<=0||(i.has(h.key)||Uf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HE(this)}getSize(e){return P.resolve(this.size)}},HE=class extends OE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var qE=class{constructor(e){this.persistence=e,this.ii=new yr(n=>LI(n),VI),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new Eu,this.targetCount=0,this._i=_u.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var yf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new MI(0),this.ci=!1,this.ci=!0,this.li=new UE,this.referenceDelegate=e(this),this.hi=new qE(this),this.indexManager=new NE,this.remoteDocumentCache=(function(i){return new $E(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new RE(n),this.Ti=new VE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new BE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new zE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},zE=class extends eE{constructor(e){super(),this.currentSequenceNumber=e}},GE=class t{constructor(e){this.persistence=e,this.Ai=new Eu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=$.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},vf=class t{constructor(e,n){this.persistence=e,this.gi=new yr(r=>OH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=M4(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var WE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=se(),i=se();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var KE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var QE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return xA()?8:xH(et())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new KE;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Os()<=ie.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Os()<=ie.DEBUG&&L("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Os()<=ie.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):P.resolve())}ps(e,n){if(SR(n))return P.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gE(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=se(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,gE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return SR(n)||i.isEqual(J.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Os()<=ie.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.vs(e,s,n,RH(i,fu)).next(a=>a))})}bs(e,n){let r=new nt(LN(e));return n.forEach((i,o)=>{Uf(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Os()<=ie.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.gs.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $I="LocalStore",P4=3e8,YE=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new xe(ne),this.Ms=new yr(o=>LI(o),VI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function x4(t,e,n,r){return new YE(t,e,n,r)}async function rM(t,e){let n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=se();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function k4(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(R=>{let A=l.docVersions.get(T);ve(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=se();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iM(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function O4(t,e){let n=Q(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(R,A,x){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=P4?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=vr(),l=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(F4(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(J.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function F4(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L($I,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function L4(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=PI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V4(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new vu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function ZE(t,e,n){let r=Q(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ra(s))throw s;L($I,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function UR(t,e,n){let r=Q(t),i=J.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Q(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:se())).next(a=>(j4(r,JH(e),a),{documents:a,qs:o})))}function j4(t,e,n){let r=t.xs.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var _f=class{constructor(){this.activeTargetIds=i4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var JE=class{constructor(){this.Fo=new _f,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _f,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var XE=class{xo(e){}shutdown(){}};var BR="ConnectivityMonitor",Ef=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(BR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(BR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zh=null;function eI(){return Zh===null?Zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zh++,"0x"+Zh.toString(16)}var H_="RestConnection",U4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},tI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=eI(),a=this.Go(e,n.toUriEncodedString());L(H_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Gr(l);return this.jo(e,a,u,r,h).then(p=>(L(H_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ii(H_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=U4[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var nI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var mt="WebChannelConnection",rI=class extends tI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=eI();return new Promise((a,u)=>{let l=new L_;l.setWithCredentials(!0),l.listenOnce(V_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ou.NO_ERROR:let p=l.getResponseJson();L(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ou.TIMEOUT:L(mt,`RPC '${e}' ${s} timed out`),u(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:let m=l.getStatus();if(L(mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let R=(function(x){let U=x.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(U)>=0?U:N.UNKNOWN})(T.status);u(new F(R,T.message))}else u(new F(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(N.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=eI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=B_(),a=U_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new nI({Ho:A=>{y?L(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(L(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(mt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,x,U)=>{A.listen(x,q=>{try{U(q)}catch(he){setTimeout(()=>{throw he},0)}})};return R(p,ks.EventType.OPEN,()=>{y||(L(mt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),R(p,ks.EventType.CLOSE,()=>{y||(y=!0,L(mt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),R(p,ks.EventType.ERROR,A=>{y||(y=!0,ii(mt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.__(new F(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,ks.EventType.MESSAGE,A=>{var x;if(!y){let U=A.data[0];ve(!!U,16349);let q=U,he=q?.error||((x=q[0])===null||x===void 0?void 0:x.error);if(he){L(mt,`RPC '${e}' stream ${i} received error:`,he);let Ze=he.status,_e=(function(E){let I=$e[E];if(I!==void 0)return KN(I)})(Ze),w=he.message;_e===void 0&&(_e=N.INTERNAL,w="Unknown error status: "+Ze+" with message "+he.message),y=!0,T.__(new F(_e,w)),p.close()}else L(mt,`RPC '${e}' stream ${i} received:`,U),T.a_(U)}}),R(a,j_.STAT_EVENT,A=>{A.stat===Kh.PROXY?L(mt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Kh.NOPROXY&&L(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function q_(){return typeof document<"u"?document:null}function Bf(t){return new TE(t,!0)}var If=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $R="PersistentStream",wf=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new If(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L($R,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L($R,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iI=class extends wf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=v4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Hn(s.readTime):J.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=AE(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=fE(u)?{documents:I4(o,u)}:{query:w4(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QN(o,s.resumeToken);let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=gf(o,s.snapshotVersion.toTimestamp());let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=T4(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=AE(this.serializer),n.removeTarget=e,this.k_(n)}},oI=class extends wf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=E4(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=AE(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>_4(this.serializer,r))};this.k_(n)}};var sI=class{},aI=class extends sI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,bE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,bE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},cI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(pr(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var bo="RemoteStore",uI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Ro(this)&&(L(bo,"Restarting streams for network reachability change."),await(async function(u){let l=Q(u);l.Ia.add(4),await Tu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await $f(l)})(this))})}),this.Aa=new cI(r,i)}};async function $f(t){if(Ro(t))for(let e of t.da)await e(!0)}async function Tu(t){for(let e of t.da)await e(!1)}function oM(t,e){let n=Q(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),GI(n)?zI(n):ia(n).x_()&&qI(n,e))}function HI(t,e){let n=Q(t),r=ia(n);n.Ta.delete(e),r.x_()&&sM(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ro(n)&&n.Aa.set("Unknown"))}function qI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).H_(e)}function sM(t,e){t.Ra.$e(e),ia(t).Y_(e)}function zI(t){t.Ra=new DE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.Aa.aa()}function GI(t){return Ro(t)&&!ia(t).M_()&&t.Ta.size>0}function Ro(t){return Q(t).Ia.size===0}function aM(t){t.Ra=void 0}async function B4(t){t.Aa.set("Online")}async function $4(t){t.Ta.forEach((e,n)=>{qI(t,e)})}async function H4(t,e){aM(t),GI(t)?(t.Aa.la(e),zI(t)):t.Aa.set("Unknown")}async function q4(t,e,n){if(t.Aa.set("Online"),e instanceof ff&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){L(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Df(t,r)}else if(e instanceof Us?t.Ra.Ye(e):e instanceof hf?t.Ra.it(e):t.Ra.et(e),!n.isEqual(J.min()))try{let r=await iM(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),sM(o,u);let p=new vu(h.target,u,l,h.sequenceNumber);qI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){L(bo,"Failed to raise snapshot:",r),await Df(t,r)}}async function Df(t,e,n){if(!ra(e))throw e;t.Ia.add(1),await Tu(t),t.Aa.set("Offline"),n||(n=()=>iM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L(bo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await $f(t)})}function cM(t,e){return e().catch(n=>Df(t,n,e))}async function Hf(t){let e=Q(t),n=ai(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:PI;for(;z4(e);)try{let i=await L4(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,G4(e,i)}catch(i){await Df(e,i)}uM(e)&&lM(e)}function z4(t){return Ro(t)&&t.Pa.length<10}function G4(t,e){t.Pa.push(e);let n=ai(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function uM(t){return Ro(t)&&!ai(t).M_()&&t.Pa.length>0}function lM(t){ai(t).start()}async function W4(t){ai(t).na()}async function K4(t){let e=ai(t);for(let n of t.Pa)e.X_(n.mutations)}async function Q4(t,e,n){let r=t.Pa.shift(),i=_E.from(r,e,n);await cM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hf(t)}async function Y4(t,e){e&&ai(t).Z_&&await(async function(r,i){if((function(s){return d4(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();ai(r).N_(),await cM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hf(r)}})(t,e),uM(t)&&lM(t)}async function HR(t,e){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),L(bo,"RemoteStore received new credentials");let r=Ro(n);n.Ia.add(3),await Tu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await $f(n)}async function Z4(t,e){let n=Q(t);e?(n.Ia.delete(2),await $f(n)):e||(n.Ia.add(2),await Tu(n),n.Aa.set("Unknown"))}function ia(t){return t.Va||(t.Va=(function(n,r,i){let o=Q(n);return o.ia(),new iI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:B4.bind(null,t),e_:$4.bind(null,t),n_:H4.bind(null,t),J_:q4.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),GI(t)?zI(t):t.Aa.set("Unknown")):(await t.Va.stop(),aM(t))})),t.Va}function ai(t){return t.ma||(t.ma=(function(n,r,i){let o=Q(n);return o.ia(),new oI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:W4.bind(null,t),n_:Y4.bind(null,t),ea:K4.bind(null,t),ta:Q4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Hf(t)):(await t.ma.stop(),t.Pa.length>0&&(L(bo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var lI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WI(t,e){if(pr("AsyncQueue",`${e}: ${t}`),ra(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Tf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Cf=class{constructor(){this.fa=new xe($.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Js=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Tf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var dI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},hI=class{constructor(){this.queries=qR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Q(n),o=i.queries;i.queries=qR(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function qR(){return new yr(t=>FN(t),jf)}async function J4(t,e){let n=Q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new dI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=WI(s,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&KI(n)}async function X4(t,e){let n=Q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eq(t,e){let n=Q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&KI(n)}function tq(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function KI(t){t.Da.forEach(e=>{e.next()})}var fI,zR;(zR=fI||(fI={})).Fa="default",zR.Cache="cache";var pI=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fI.Cache}};var bf=class{constructor(e){this.key=e}},Sf=class{constructor(e){this.key=e}},gI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=se(),this.mutatedKeys=se(),this.Xa=LN(e),this.eu=new Tf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Cf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Uf(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?T!==R&&(r.track({type:3,doc:y}),A=!0):this.iu(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:A})}};return R(y)-R(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Js(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Cf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=se(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Sf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new bf(r))}),n}uu(e){this.Ha=e.qs,this.Za=se();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Js.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},QI="SyncEngine",mI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},yI=class{constructor(e){this.key=e,this.lu=!1}},vI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new yr(a=>FN(a),jf),this.Tu=new Map,this.Iu=new Set,this.du=new xe($.comparator),this.Eu=new Map,this.Au=new Eu,this.Ru={},this.Vu=new Map,this.mu=_u.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function nq(t,e,n=!0){let r=mM(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await dM(r,e,n,!0),i}async function rq(t,e){let n=mM(t);await dM(n,e,!0,!1)}async function dM(t,e,n,r){let i=await V4(t.localStore,$n(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await iq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&oM(t.remoteStore,i),a}async function iq(t,e,n,r,i){t.gu=(p,m,y)=>(async function(R,A,x,U){let q=A.view.nu(x);q.Ds&&(q=await UR(R.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,q)));let he=U&&U.targetChanges.get(A.targetId),Ze=U&&U.targetMismatches.get(A.targetId)!=null,_e=A.view.applyChanges(q,R.isPrimaryClient,he,Ze);return WR(R,A.targetId,_e._u),_e.snapshot})(t,p,m,y);let o=await UR(t.localStore,e,!0),s=new gI(e,o.qs),a=s.nu(o.documents),u=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);WR(t,n,l._u);let h=new mI(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function oq(t,e,n){let r=Q(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!jf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ZE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HI(r.remoteStore,i.targetId),_I(r,i.targetId)}).catch(na)):(_I(r,i.targetId),await ZE(r.localStore,i.targetId,!0))}async function sq(t,e){let n=Q(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HI(n.remoteStore,r.targetId))}async function aq(t,e,n){let r=pq(t);try{let i=await(function(s,a){let u=Q(s),l=Ge.now(),h=a.reduce((y,T)=>y.add(T.key),se()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=vr(),R=se();return u.Os.getEntries(y,h).next(A=>{T=A,T.forEach((x,U)=>{U.isValidDocument()||(R=R.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(A=>{p=A;let x=[];for(let U of a){let q=l4(U,p.get(U.key).overlayedDocument);q!=null&&x.push(new _r(U.key,q,RN(q.value.mapValue),vo.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(A=>{m=A;let x=A.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:jN(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new xe(ne)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await Cu(r,i.changes),await Hf(r.remoteStore)}catch(i){let o=WI(i,"Failed to persist write");n.reject(o)}}async function hM(t,e){let n=Q(t);try{let r=await O4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ve(s.lu,14607):i.removedDocuments.size>0&&(ve(s.lu,42227),s.lu=!1))}),await Cu(n,r,e)}catch(r){await na(r)}}function GR(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&KI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cq(t,e,n){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe($.comparator);s=s.insert(o,yn.newNoDocument(o,J.min()));let a=se().add(o),u=new df(J.min(),new Map,new xe(ne),s,a);await hM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),YI(r)}else await ZE(r.localStore,e,!1).then(()=>_I(r,e,n)).catch(na)}async function uq(t,e){let n=Q(t),r=e.batch.batchId;try{let i=await k4(n.localStore,e);pM(n,r,null),fM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await na(i)}}async function lq(t,e,n){let r=Q(t);try{let i=await(function(s,a){let u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);pM(r,e,n),fM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,i)}catch(i){await na(i)}}function fM(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function pM(t,e,n){let r=Q(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function _I(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||gM(t,r)})}function gM(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(HI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),YI(t))}function WR(t,e,n){for(let r of n)r instanceof bf?(t.Au.addReference(r.key,e),dq(t,r)):r instanceof Sf?(L(QI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||gM(t,r.key)):H(19791,{yu:r})}function dq(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(L(QI,"New document in limbo: "+n),t.Iu.add(r),YI(t))}function YI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new $(Ce.fromString(e)),r=t.mu.next();t.Eu.set(r,new yI(n)),t.du=t.du.insert(n,r),oM(t.remoteStore,new vu($n(jI(n.path)),r,"TargetPurposeLimboResolution",MI.ue))}}async function Cu(t,e,n){let r=Q(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=WE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=Q(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ra(p))throw p;L($I,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,R)}}})(r.localStore,o))}async function hq(t,e){let n=Q(t);if(!n.currentUser.isEqual(e)){L(QI,"User change. New user:",e.toKey());let r=await rM(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new F(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.Bs)}}function fq(t,e){let n=Q(t),r=n.Eu.get(e);if(r&&r.lu)return se().add(r.key);{let i=se(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function mM(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cq.bind(null,e),e.hu.J_=eq.bind(null,e.eventManager),e.hu.pu=tq.bind(null,e.eventManager),e}function pq(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lq.bind(null,e),e}var yM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Bf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return x4(this.persistence,new QE,n.initialUser,this.serializer)}Du(n){return new yf(GE.Vi,this.serializer)}bu(n){return new JE}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),EI=class extends yM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ve(this.persistence.referenceDelegate instanceof vf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new xE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new yf(r=>vf.Vi(r,n),this.serializer)}};var gq=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hq.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new hI})()}createDatastore(n){let r=Bf(n.databaseInfo.databaseId),i=(function(s){return new rI(s)})(n.databaseInfo);return(function(s,a,u,l){return new aI(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new uI(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>GR(this.syncEngine,r,0),(function(){return Ef.C()?new Ef:new XE})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new vI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=Q(o);L(bo,"RemoteStore shutting down."),s.Ia.add(5),await Tu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var II=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ci="FirestoreClient",wI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=hu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(ci,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=WI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function z_(t,e){t.asyncQueue.verifyOperationInProgress(),L(ci,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ii("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ii("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function KR(t,e){t.asyncQueue.verifyOperationInProgress();let n=await mq(t);L(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HR(e.remoteStore,i)),t._onlineComponents=e}async function mq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(ci,"Using user provided OfflineComponentProvider");try{await z_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ii("Error using user provided cache. Falling back to memory cache: "+n),await z_(t,new yM)}}else L(ci,"Using default OfflineComponentProvider"),await z_(t,new EI(void 0));return t._offlineComponents}async function vM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(ci,"Using user provided OnlineComponentProvider"),await KR(t,t._uninitializedComponentsProvider._online)):(L(ci,"Using default OnlineComponentProvider"),await KR(t,new gq))),t._onlineComponents}function yq(t){return vM(t).then(e=>e.syncEngine)}async function QR(t){let e=await vM(t),n=e.eventManager;return n.onListen=nq.bind(null,e.syncEngine),n.onUnlisten=oq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sq.bind(null,e.syncEngine),n}function _M(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YR=new Map;var EM="firestore.googleapis.com",ZR=!0,Af=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EM,this.ssl=ZR}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N4)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_M((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new G_;switch(r.type){case"firstParty":return new Y_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=YR.get(n);r&&(L("ComponentProvider","Removing Datastore"),YR.delete(n),r.terminate())})(this),Promise.resolve()}};function IM(t,e,n,r={}){var i;t=au(t,Xs);let o=Gr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Eh(`https://${u}`),Ih("Firestore",!0)),s.host!==EM&&s.host!==u&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!On(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=tt.MOCK_USER;else{h=SA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tt(m)}t._authCredentials=new W_(new tf(h,p))}}var So=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Du(n,t._jsonSchema))return new t(e,r||null,new $(Ce.fromString(n.referencePath)))}};yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ze("string",yt._jsonSchemaVersion),referencePath:ze("string")};var ei=class t extends So{constructor(e,n,r){super(e,n,jI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wM(t,e,...n){if(t=ct(t),oN("collection","path",e),t instanceof Xs){let r=Ce.fromString(e,...n);return pR(r),new ei(t,null,r)}{if(!(t instanceof yt||t instanceof ei))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return pR(r),new ei(t.firestore,null,r)}}function DM(t,e,...n){if(t=ct(t),arguments.length===1&&(e=hu.newId()),oN("doc","path",e),t instanceof Xs){let r=Ce.fromString(e,...n);return fR(r),new yt(t,null,new $(r))}{if(!(t instanceof yt||t instanceof ei))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return fR(r),new yt(t.firestore,t instanceof ei?t.converter:null,new $(r))}}var JR="AsyncQueue",Rf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new If(this,"async_queue_retry"),this.oc=()=>{let r=q_();r&&L(JR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=q_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=q_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ra(e))throw e;L(JR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,pr("INTERNAL UNHANDLED ERROR: ",XR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=lI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:XR(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function XR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function eN(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var ea=class extends Xs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rf(e),this._firestoreClient=void 0,await e}}};function TM(t,e){let n=typeof t=="object"?t:ao(),r=typeof t=="string"?t:e||af,i=As(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bA("firestore");o&&IM(i,...o)}return i}function CM(t){if(t._terminated)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vq(t),t._firestoreClient}function vq(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new tE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_M(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var ti=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:ze("string",ti._jsonSchemaVersion),bytes:ze("string")};var Iu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nf=class{constructor(e){this._methodName=e}};var ni=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Du(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:ze("string",ni._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var ri=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new F(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ze("string",ri._jsonSchemaVersion),vectorValues:ze("object")};var _q=/^__.*__$/,DI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}};function bM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:t})}}var TI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(bM(this.Ec)&&_q.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},CI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bf(e)}Dc(e,n,r,i=!1){return new TI({Ec:e,methodName:n,bc:r,path:Ht.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SM(t){let e=t._freezeSettings(),n=Bf(t._databaseId);return new CI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Eq(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);NM("Data must be an object, but it was:",s,r);let a=AM(r,s),u,l;if(o.merge)u=new Un(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=wq(e,p,n);if(!s.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Tq(h,m)||h.push(m)}u=new Un(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new DI(new mn(a),u,l)}function Iq(t,e,n,r=!1){return ZI(n,t.Dc(r?4:3,e))}function ZI(t,e){if(RM(t=ct(t)))return NM("Unsupported field value:",e,t),AM(t,e);if(t instanceof Nf)return(function(r,i){if(!bM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=ZI(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ge.fromDate(r);return{timestampValue:gf(i.serializer,o)}}if(r instanceof Ge){let o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gf(i.serializer,o)}}if(r instanceof ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:QN(i.serializer,r._byteString)};if(r instanceof yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ri)return(function(s,a){return{mapValue:{fields:{[kI]:{stringValue:OI},[qs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return UI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Ff(r)}`)})(t,e)}function AM(t,e){let n={};return IN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let o=ZI(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function RM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ni||t instanceof ti||t instanceof yt||t instanceof Nf||t instanceof ri)}function NM(t,e,n){if(!RM(n)||!sN(n)){let r=Ff(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function wq(t,e,n){if((e=ct(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return MM(t,e);throw Mf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Dq=new RegExp("[~\\*/\\[\\]]");function MM(t,e,n){if(e.search(Dq)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,a+t+u)}function Tq(t,e){return t.some(n=>n.isEqual(e))}var Pf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},bI=class extends Pf{data(){return super.data()}};function qf(t,e){return typeof e=="string"?MM(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}function Cq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wu=class{},xf=class extends wu{};function PM(t,e,...n){let r=[];e instanceof wu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof SI).length,a=o.filter(u=>u instanceof kf).length;if(s>1||s>0&&a>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var kf=class t extends xf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return OM(e._query,n),new So(e.firestore,e.converter,pE(e._query,n))}_parse(e){let n=SM(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){nN(p,h);let T=[];for(let R of p)T.push(tN(u,o,R));m={arrayValue:{values:T}}}else m=tN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||nN(p,h),m=Iq(a,s,p,h==="in"||h==="not-in");return qe.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function xM(t,e,n){let r=e,i=qf("where",t);return kf._create(i,r,n)}var SI=class t extends wu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)OM(s,u),s=pE(s,u)})(e._query,n),new So(e.firestore,e.converter,pE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var AI=class t extends xf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wo(o,s)})(e._query,this._field,this._direction);return new So(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new si(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function kM(t,e="asc"){let n=e,r=qf("orderBy",t);return AI._create(r,n)}function tN(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(e)&&n.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ce.fromString(n));if(!$.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IR(t,new $(r))}if(n instanceof yt)return IR(t,n._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function nN(t,e){if(!Array.isArray(t)||t.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OM(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var RI=class{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[qs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new ri(o)}convertGeoPoint(e){return new ni(Te(e.latitude),Te(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){let n=gr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);ve(tM(r),9688,{name:e});let i=new cf(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function bq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var yo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_o=class t extends Pf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:ze("string",_o._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var Bs=class extends _o{data(e={}){return super.data(e)}},$s=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bs(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Sq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Sq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:t})}}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:ze("string",$s._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};var Of=class extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}};function FM(t,e){let n=au(t.firestore,ea),r=DM(t),i=bq(t.converter,e);return Aq(n,[Eq(SM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vo.exists(!1))]).then(()=>r)}function JI(t,...e){var n,r,i;t=ct(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eN(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof yt)l=au(t.firestore,ea),h=jI(t._key.path),u={next:p=>{e[s]&&e[s](Rq(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=au(t,So);l=au(p.firestore,ea),h=p._query;let m=new Of(l);u={next:y=>{e[s]&&e[s](new $s(l,m,p,y))},error:e[s+1],complete:e[s+2]},Cq(t._query)}return(function(m,y,T,R){let A=new II(R),x=new pI(y,A,T);return m.asyncQueue.enqueueAndForget(async()=>J4(await QR(m),x)),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(async()=>X4(await QR(m),x))}})(CM(l),h,a,u)}function Aq(t,e){return(function(r,i){let o=new fr;return r.asyncQueue.enqueueAndForget(async()=>aq(await yq(r),i,o)),o.promise})(CM(t),e)}function Rq(t,e,n){let r=n.docs.get(e._key),i=new Of(t);return new _o(t,i,e._key,r,new yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ta=i})(Kr),fn(new Ct("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ea(new K_(r.getProvider("auth-internal")),new Z_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pe(uR,lR,e),Pe(uR,lR,"esm2017")})();var zf=function(){return zf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zf.apply(this,arguments)};var Pq={includeMetadataChanges:!1};function LM(t,e){return e===void 0&&(e=Pq),new X(function(n){var r=JI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function VM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:zf(zf({},r),(n={},n[e.idField]=t.id,n))}function jM(t){return LM(t,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}function UM(t,e){return e===void 0&&(e={}),jM(t).pipe(Ee(function(n){return n.map(function(r){return VM(r,e)})}))}var No=class{constructor(e){return e}},BM="firestore",XI=class{constructor(){return Ns(BM)}};var ew=new j("angularfire2.firestore-instances");function xq(t,e){let n=Gc(BM,t,e);return n&&new No(n)}function kq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new No(r)}}var Oq={provide:XI,deps:[[new Lt,ew]]},Fq={provide:No,useFactory:xq,deps:[[new Lt,ew],ar]};function $M(t,...e){return Pe("angularfire",Qr.full,"fst"),xt([Fq,Oq,{provide:ew,useFactory:kq(t),multi:!0,deps:[De,je,Yr,uo,[new Lt,iu],[new Lt,Ms],...e]}])}var HM=gt(UM,!0);var qM=gt(FM,!0,2);var zM=gt(wM,!0,2);var GM=gt(TM,!0);var WM=gt(kM,!0,2),KM=gt(PM,!0,2);var QM=gt(xM,!0,2);var YM={production:!1,firebase:{apiKey:"AIzaSyDeExC8bd-Xdt3Ud69pnkOkjKyGMtFTpyQ",authDomain:"financeproject-2026.firebaseapp.com",projectId:"financeproject-2026",storageBucket:"financeproject-2026.firebasestorage.app",messagingSenderId:"673940962766",appId:"1:673940962766:web:3e1a237289c022e48d7f9f"}};var ZM={providers:[pm(),Cv(IA),e0(()=>t0(YM.firebase)),nR(()=>iR()),$M(()=>GM())]};var aP=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(de(qi),de(Fr))};static \u0275dir=Be({type:t})}return t})(),ep=(()=>{class t extends aP{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275dir=Be({type:t,features:[Vt]})}return t})(),Pu=new j("");var Lq={provide:Pu,useExisting:qt(()=>tp),multi:!0};function Vq(){let t=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var jq=new j(""),tp=(()=>{class t extends aP{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Vq())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(de(qi),de(Fr),de(jq,8))};static \u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&jt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ir([Lq]),Vt]})}return t})();function Uq(t){return t==null||Bq(t)===0}function Bq(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var rw=new j(""),cP=new j("");function $q(t){return Uq(t.value)?{required:!0}:null}function JM(t){return null}function uP(t){return t!=null}function lP(t){return rr(t)?Re(t):t}function dP(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function hP(t,e){return e.map(n=>n(t))}function Hq(t){return!t.validate}function fP(t){return t.map(e=>Hq(e)?e:n=>e.validate(n))}function qq(t){if(!t)return null;let e=t.filter(uP);return e.length==0?null:function(n){return dP(hP(n,e))}}function iw(t){return t!=null?qq(fP(t)):null}function zq(t){if(!t)return null;let e=t.filter(uP);return e.length==0?null:function(n){let r=hP(n,e).map(lP);return ig(r).pipe(Ee(dP))}}function ow(t){return t!=null?zq(fP(t)):null}function XM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gq(t){return t._rawValidators}function Wq(t){return t._rawAsyncValidators}function tw(t){return t?Array.isArray(t)?t:[t]:[]}function Wf(t,e){return Array.isArray(t)?t.includes(e):t===e}function eP(t,e){let n=tw(e);return tw(t).forEach(i=>{Wf(n,i)||n.push(i)}),n}function tP(t,e){return tw(e).filter(n=>!Wf(t,n))}var Kf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},aa=class extends Kf{name;get formDirective(){return null}get path(){return null}},Mu=class extends Kf{_parent=null;name=null;valueAccessor=null},Qf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var pP=(()=>{class t extends Qf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(de(Mu,2))};static \u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ki("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Vt]})}return t})(),gP=(()=>{class t extends Qf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(de(aa,10))};static \u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ki("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Vt]})}return t})();var bu="VALID",Gf="INVALID",oa="PENDING",Su="DISABLED",ui=class{},Yf=class extends ui{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ru=class extends ui{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Nu=class extends ui{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},sa=class extends ui{status;source;constructor(e,n){super(),this.status=e,this.source=n}},nw=class extends ui{source;constructor(e){super(),this.source=e}},Zf=class extends ui{source;constructor(e){super(),this.source=e}};function mP(t){return(np(t)?t.validators:t)||null}function Kq(t){return Array.isArray(t)?iw(t):t||null}function yP(t,e){return(np(e)?e.asyncValidators:t)||null}function Qq(t){return Array.isArray(t)?ow(t):t||null}function np(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Yq(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function Zq(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Jf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fe(this.statusReactive)}set status(e){Fe(()=>this.statusReactive.set(e))}_status=fs(()=>this.statusReactive());statusReactive=Qt(void 0);get valid(){return this.status===bu}get invalid(){return this.status===Gf}get pending(){return this.status==oa}get disabled(){return this.status===Su}get enabled(){return this.status!==Su}errors;get pristine(){return Fe(this.pristineReactive)}set pristine(e){Fe(()=>this.pristineReactive.set(e))}_pristine=fs(()=>this.pristineReactive());pristineReactive=Qt(!0);get dirty(){return!this.pristine}get touched(){return Fe(this.touchedReactive)}set touched(e){Fe(()=>this.touchedReactive.set(e))}_touched=fs(()=>this.touchedReactive());touchedReactive=Qt(!1);get untouched(){return!this.touched}_events=new Je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tP(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ru(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ru(!0,r))}markAsPending(e={}){this.status=oa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Su,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yf(this.value,r)),this._events.next(new sa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bu,this._forEachChild(r=>{r.enable(ee(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bu||this.status===oa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yf(this.value,n)),this._events.next(new sa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Su:bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=oa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=lP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new sa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Su:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oa)?oa:this._anyControlsHaveStatus(Gf)?Gf:bu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ru(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Nu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){np(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Kq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qq(this._rawAsyncValidators)}},Xf=class extends Jf{constructor(e,n,r){super(mP(n),yP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Zq(this,!0,e),Object.keys(e).forEach(r=>{Yq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,ee(O({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Zf(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sw=new j("",{factory:()=>aw}),aw="always";function Jq(t,e){return[...e.path,t]}function vP(t,e,n=aw){_P(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ez(t,e),nz(t,e),tz(t,e),Xq(t,e)}function nP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function _P(t,e){let n=Gq(t);e.validator!==null?t.setValidators(XM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Wq(t);e.asyncValidator!==null?t.setAsyncValidators(XM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nP(e._rawValidators,i),nP(e._rawAsyncValidators,i)}function ez(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&EP(t,e)})}function tz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&EP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function EP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rz(t,e){t==null,_P(t,e)}function iz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oz(t){return Object.getPrototypeOf(t.constructor)===ep}function sz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function az(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===tp?n=o:oz(o)?r=o:i=o}),i||r||n||null}var cz={provide:aa,useExisting:qt(()=>cw)},Au=Promise.resolve(),cw=(()=>{class t extends aa{callSetDisabledState;get submitted(){return Fe(this.submittedReactive)}_submitted=fs(()=>this.submittedReactive());submittedReactive=Qt(!1);_directives=new Set;form;ngSubmit=new Ve;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Xf({},iw(n),ow(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Au.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),vP(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Au.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Au.then(()=>{let r=this._findContainer(n.path),i=new Xf({});rz(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Au.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Au.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),sz(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new nw(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(de(rw,10),de(cP,10),de(sw,8))};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&jt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ir([cz]),Vt]})}return t})();function rP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uz=class extends Jf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(mP(n),yP(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),np(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Zf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lz={provide:Mu,useExisting:qt(()=>uw)},oP=Promise.resolve(),uw=(()=>{class t extends Mu{_changeDetectorRef;callSetDisabledState;control=new uz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ve;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=az(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),iz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){oP.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Bd(r);oP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Jq(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(de(aa,9),de(rw,10),de(cP,10),de(Pu,10),de(Ji,8),de(sw,8))};static \u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ir([lz]),Vt,tr]})}return t})();var IP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),dz={provide:Pu,useExisting:qt(()=>lw),multi:!0},lw=(()=>{class t extends ep{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&jt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ir([dz]),Vt]})}return t})();var hz={provide:Pu,useExisting:qt(()=>rp),multi:!0};function wP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function fz(t){return t.split(":")[0]}var rp=(()=>{class t extends ep{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=M(jr).injector;destroyRef=M(an);cdr=M(Ji);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ad({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=wP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=fz(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&jt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ir([hz]),Vt]})}return t})(),DP=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(wP(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(de(Fr),de(qi),de(rp,9))};static \u0275dir=Be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),pz={provide:Pu,useExisting:qt(()=>TP),multi:!0};function sP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function gz(t){return t.split(":")[0]}var TP=(()=>{class t extends ep{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=gz(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&jt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ir([pz]),Vt]})}return t})(),CP=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(sP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(sP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(de(Fr),de(qi),de(TP,9))};static \u0275dir=Be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var mz=(()=>{class t{_validator=JM;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):JM,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,features:[tr]})}return t})();var yz={provide:rw,useExisting:qt(()=>dw),multi:!0};var dw=(()=>{class t extends mz{required;inputName="required";normalizeInput=Bd;createValidator=n=>$q;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Vd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ir([yz]),Vt]})}return t})();var vz=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vr({type:t});static \u0275inj=Jn({})}return t})();var bP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sw,useValue:n.callSetDisabledState??aw}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vr({type:t});static \u0275inj=Jn({imports:[vz]})}return t})();var ca=class t{firestore=M(No);transactionsCollection=zM(this.firestore,"transactions");addTransaction(e,n){let r=ee(O({},e),{userId:n,date:new Date});return qM(this.transactionsCollection,r)}getTransactions(e){let n=KM(this.transactionsCollection,QM("userId","==",e),WM("date","desc"));return HM(n,{idField:"id"})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var ip=class t{userId;transactionService=M(ca);model={amount:0,type:"expense",category:"Comida",description:"",date:new Date};async onSubmit(){if(this.userId){console.log("Guardando...",this.model);try{await this.transactionService.addTransaction(this.model,this.userId),alert("\xA1Transacci\xF3n guardada con \xE9xito!"),this.model=ee(O({},this.model),{amount:0,description:""})}catch(e){console.error(e),alert("Error al guardar")}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nr({type:t,selectors:[["app-add-transaction"]],inputs:{userId:"userId"},decls:26,vars:4,consts:[[1,"container"],[3,"ngSubmit"],["name","type",3,"ngModelChange","ngModel"],["value","income"],["value","expense"],["type","number","name","amount","placeholder","0.00","required","",3,"ngModelChange","ngModel"],["type","text","name","category","placeholder","Ej: Casa, Supermercado",3,"ngModelChange","ngModel"],["type","text","name","description","placeholder","Detalles opcionales",3,"ngModelChange","ngModel"],["type","submit"]],template:function(n,r){n&1&&(Se(0,"div",0)(1,"h2"),Me(2,"Nueva Transacci\xF3n"),Ne(),Se(3,"form",1),jt("ngSubmit",function(){return r.onSubmit()}),Se(4,"div")(5,"label"),Me(6,"Tipo:"),Ne(),Se(7,"select",2),Yi("ngModelChange",function(o){return ds(r.model.type,o)||(r.model.type=o),o}),Se(8,"option",3),Me(9,"Ingreso \u{1F4B0}"),Ne(),Se(10,"option",4),Me(11,"Gasto \u{1F4B8}"),Ne()()(),Se(12,"div")(13,"label"),Me(14,"Monto:"),Ne(),Se(15,"input",5),Yi("ngModelChange",function(o){return ds(r.model.amount,o)||(r.model.amount=o),o}),Ne()(),Se(16,"div")(17,"label"),Me(18,"Categor\xEDa:"),Ne(),Se(19,"input",6),Yi("ngModelChange",function(o){return ds(r.model.category,o)||(r.model.category=o),o}),Ne()(),Se(20,"div")(21,"label"),Me(22,"Descripci\xF3n:"),Ne(),Se(23,"input",7),Yi("ngModelChange",function(o){return ds(r.model.description,o)||(r.model.description=o),o}),Ne()(),Se(24,"button",8),Me(25,"Guardar Transacci\xF3n"),Ne()()()),n&2&&(st(7),Qi("ngModel",r.model.type),st(8),Qi("ngModel",r.model.amount),st(4),Qi("ngModel",r.model.category),st(4),Qi("ngModel",r.model.description))},dependencies:[Hr,bP,IP,DP,CP,tp,lw,rp,pP,gP,dw,uw,cw],encapsulation:2})};var Ez=(t,e)=>e.id;function Iz(t,e){if(t&1&&(Mn(0,"li",2)(1,"div",3)(2,"span",4),Me(3),ln(),Mn(4,"small"),Me(5),ln()(),Mn(6,"div",5),Me(7),Zi(8,"currency"),ln()()),t&2){let n=e.$implicit;Ki("expense",n.type==="expense"),st(3),mc(n.category),st(2),mc(n.description),st(2),yc(" ",Ty(8,5,n.amount,"COP","symbol-narrow","1.0-0")," ")}}function wz(t,e){if(t&1&&(Mn(0,"ul"),wy(1,Iz,9,10,"li",1,Ez),ln()),t&2){let n=ls();st(),Dy(n)}}function Dz(t,e){t&1&&(Mn(0,"p"),Me(1,"No hay movimientos a\xFAn. \xA1Agrega uno arriba!"),ln())}function Tz(t,e){t&1&&zi(0,wz,3,0,"ul")(1,Dz,2,0,"p"),t&2&&Wi(e.length>0?0:1)}function Cz(t,e){t&1&&(Mn(0,"p"),Me(1,"Cargando datos..."),ln())}var op=class t{userId;transactionService=M(ca);transactions$;ngOnChanges(e){this.userId&&(this.transactions$=this.transactionService.getTransactions(this.userId))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nr({type:t,selectors:[["app-transaction-list"]],inputs:{userId:"userId"},features:[tr],decls:6,vars:3,consts:[[1,"list-container"],[1,"transaction-item",3,"expense"],[1,"transaction-item"],[1,"info"],[1,"category"],[1,"amount"]],template:function(n,r){if(n&1&&(Mn(0,"div",0)(1,"h3"),Me(2,"Historial de Movimientos"),ln(),zi(3,Tz,2,1),Zi(4,"async"),Gi(5,Cz,2,0,"p"),ln()),n&2){let i;st(3),Wi((i=hs(4,1,r.transactions$))?3:5,i)}},dependencies:[Hr,wc,Fy],styles:[".list-container[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;border:1px solid #ddd;border-radius:8px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;border-left:5px solid #2ecc71}.transaction-item.expense[_ngcontent-%COMP%]{border-left-color:#e74c3c}.amount[_ngcontent-%COMP%]{font-weight:700}"]})};var sp=class t{auth=M(po);user$=rR(this.auth);constructor(){}login(){let e=new A_;return oR(this.auth,e)}logout(){return sR(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function bz(t,e){if(t&1){let n=jd();Se(0,"div",2),Ur(1,"img",4),Se(2,"button",5),jt("click",function(){ec(n);let i=ls();return tc(i.logout())}),Me(3,"Salir"),Ne()()}t&2&&(st(),us("src",e.photoURL,ry))}function Sz(t,e){if(t&1&&Ur(0,"app-add-transaction",6)(1,"app-transaction-list",6),t&2){let n=e;us("userId",n.uid),st(),us("userId",n.uid)}}function Az(t,e){if(t&1){let n=jd();Se(0,"div",3)(1,"h3"),Me(2,"Para gestionar tus finanzas, inicia sesi\xF3n \u{1F447}"),Ne(),Se(3,"button",7),jt("click",function(){ec(n);let i=ls();return tc(i.login())}),Me(4," Ingresar con Google "),Ne()()}}var ap=class t{authService=M(sp);login(){this.authService.login().catch(e=>console.error(e))}logout(){this.authService.logout()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nr({type:t,selectors:[["app-root"]],decls:10,vars:6,consts:[[2,"max-width","600px","margin","0 auto","font-family","sans-serif"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","20px"],[2,"display","flex","align-items","center","gap","10px"],[2,"text-align","center","margin-top","50px"],[2,"border-radius","50%","width","40px",3,"src"],[3,"click"],[3,"userId"],[2,"padding","10px 20px","font-size","1.2rem","cursor","pointer",3,"click"]],template:function(n,r){if(n&1&&(Se(0,"div",0)(1,"header",1)(2,"h1"),Me(3,"Mi App Financiera \u{1F680}"),Ne(),zi(4,bz,4,1,"div",2),Zi(5,"async"),Ne(),Ur(6,"hr"),zi(7,Sz,2,2),Zi(8,"async"),Gi(9,Az,5,0,"div",3),Ne()),n&2){let i,o;st(4),Wi((i=hs(5,2,r.authService.user$))?4:-1,i),st(3),Wi((o=hs(8,4,r.authService.user$))?7:9,o)}},dependencies:[Hr,ip,op,wc],encapsulation:2})};zy(ap,ZM).catch(t=>console.error(t));
