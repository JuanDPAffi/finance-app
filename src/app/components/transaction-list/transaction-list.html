<div class="card-style list-container">
  <h3>Historial Reciente</h3>

  @if (transactions$ | async; as transactions) {
    
    @if (transactions.length > 0) {
      <div class="transactions-wrapper">
        @for (item of transactions; track item.id) {
          
          <div class="transaction-row">
            <div class="icon-indicator" [class.expense]="item.type === 'expense'">
              {{ item.type === 'expense' ? 'ðŸ“‰' : 'ðŸ“ˆ' }}
            </div>

            <div class="info">
              <span class="category">{{ item.category }}</span>
              <span class="date-desc">
                {{ item.description || 'Sin descripciÃ³n' }} 
                â€¢ {{ item.date?.toDate() | date:'shortDate' }}
              </span>
            </div>
            
            <div class="amount" [class.expense-text]="item.type === 'expense'">
              {{ item.type === 'expense' ? '-' : '+' }}
              {{ item.amount | currency:'COP':'symbol-narrow':'1.0-0' }}
            </div>
          </div>

        }
      </div>
    } @else {
      <div class="empty-state">
        <span class="empty-icon">ðŸ“­</span>
        <p>AÃºn no tienes movimientos.</p>
        <small>Â¡Registra el primero arriba!</small>
      </div>
    }

  } @else {
    <div class="loading">
      <div class="spinner"></div>
      <p>Cargando tus finanzas...</p>
    </div>
  }
</div>